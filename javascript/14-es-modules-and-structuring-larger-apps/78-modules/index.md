






(https://wesbos.com/javascript/04-the-dom/built-in-and-custom-data-attributes)
    1.  [Data Attributes](https://wesbos.com/javascript/04-the-dom/built-in-and-custom-data-attributes/#data-attributes)
-   [Creating HTML<span class="videoNumber">Part 25</span>](https://wesbos.com/javascript/04-the-dom/creating-html)
    1.  [append method](https://wesbos.com/javascript/04-the-dom/creating-html/#append-method)
    2.  [insertAdjacentElement method](https://wesbos.com/javascript/04-the-dom/creating-html/#insertadjacentelement-method)
    3.  [Generating An Unordered List](https://wesbos.com/javascript/04-the-dom/creating-html/#generating-an-unordered-list)
-   [HTML from Strings and XSS<span class="videoNumber">Part 26</span>](https://wesbos.com/javascript/04-the-dom/html-from-strings-and-xss)
    1.  [document.createRange() and document.createFragment()](https://wesbos.com/javascript/04-the-dom/html-from-strings-and-xss/#documentcreaterange-and-documentcreatefragment)
    2.  [Security and Santization](https://wesbos.com/javascript/04-the-dom/html-from-strings-and-xss/#security-and-santization)
    3.  [XSS (Cross Site Scripting)](https://wesbos.com/javascript/04-the-dom/html-from-strings-and-xss/#xss-cross-site-scripting)
-   [Traversing and Removing Nodes<span class="videoNumber">Part 27</span>](https://wesbos.com/javascript/04-the-dom/traversing-and-removing-nodes)
    1.  [The difference between an Node and an Element](https://wesbos.com/javascript/04-the-dom/traversing-and-removing-nodes/#the-difference-between-an-node-and-an-element)
    2.  [Properties to work with Nodes and Elements](https://wesbos.com/javascript/04-the-dom/traversing-and-removing-nodes/#properties-to-work-with-nodes-and-elements)
    3.  [Removing Elements](https://wesbos.com/javascript/04-the-dom/traversing-and-removing-nodes/#removing-elements)
-   [Cardio<span class="videoNumber">Part 28</span>](https://wesbos.com/javascript/04-the-dom/cardio)
    1.  [closest method](https://wesbos.com/javascript/04-the-dom/cardio/#closest-method)




##### <span class="grit">Module 13 - Ajax and Fetching Data</span>

-   [AJAX and APIs<span class="videoNumber">Part 74</span>](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis)
    1.  [What is an API?](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis/#what-is-an-api)
    2.  [JSON](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis/#json)
    3.  [AJAX](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis/#ajax)
    4.  [Public API list](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis/#public-api-list)
-   [CORS and Recipes<span class="videoNumber">Part 75</span>](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes)
    1.  [Query Parameters](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#query-parameters)
    2.  [CORS](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#cors)
        -   [What is CORS?](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#what-is-cors)
        -   [CORS policy](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#cors-policy)
    3.  [Babel](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#babel)
    4.  [Browserlist](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#browserlist)
    5.  [Proxy](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#proxy)
-   [Dad Jokes<span class="videoNumber">Part 76</span>](https://wesbos.com/javascript/13-ajax-and-fetching-data/76-dad-jokes)
    1.  [Headers](https://wesbos.com/javascript/13-ajax-and-fetching-data/76-dad-jokes/#headers)
    2.  [Getting a Random Index](https://wesbos.com/javascript/13-ajax-and-fetching-data/76-dad-jokes/#getting-a-random-index)
    3.  [Loading State & CSS Loader](https://wesbos.com/javascript/13-ajax-and-fetching-data/76-dad-jokes/#loading-state--css-loader)
-   [Currency Converter<span class="videoNumber">Part 77</span>](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter)
    1.  [Caching the Rates](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#caching-the-rates)
    2.  [Converting](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#converting)
    3.  [Hooking Up The UI](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#hooking-up-the-ui)
        -   [Input Event on a Form](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#input-event-on-a-form)
        -   [Wiring up Handlers](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#wiring-up-handlers)
        -   [Formatting Currency using Number Format API](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#formatting-currency-using-number-format-api)

##### <span class="grit">Module 14 - ES Modules and Structuring Larger Apps</span>

-   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules" class="currentModule currentPage currentSection">Modules<span class="videoNumber">Part 78</span></a>
    1.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#what-are-modules" class="currentModule currentPage">What are Modules?</a>
    2.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#use-cases" class="currentModule currentPage">Use Cases</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#modules-in-the-browser" class="currentModule currentPage">Modules in the Browser</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#in-the-past---sharing-javascript-code-between-files" class="currentModule currentPage">In the Past - Sharing JavaScript Code between Files</a>
    3.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#setting-up-server" class="currentModule currentPage">Setting up Server</a>
    4.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#importing-and-exporting-modules" class="currentModule currentPage">Importing and Exporting Modules</a>
    5.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#things-we-need-to-know-about-modules" class="currentModule currentPage">Things we need to know about Modules</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#scope" class="currentModule currentPage">Scope</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#difference-between-default-and-named-exports" class="currentModule currentPage">Difference between Default and Named Exports</a>
    6.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#renaming-modules" class="currentModule currentPage">Renaming Modules</a>
    7.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#more-ways-to-import" class="currentModule currentPage">More Ways to Import</a>
    8.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#loading-javascript-on-demand" class="currentModule currentPage">Loading JavaScript On Demand</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/#async" class="currentModule currentPage">async</a>
-   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/79-currency-module-refactor" class="currentModule">Currency Module Refactor<span class="videoNumber">Part 79</span></a>
    1.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/79-currency-module-refactor/#bootstrap--app-init-functions" class="currentModule">Bootstrap / App Init Functions</a>
-   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/80-dad-jokes-modules-refactor" class="currentModule">Dad Jokes Modules Refactor<span class="videoNumber">Part 80</span></a>
    1.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/80-dad-jokes-modules-refactor/#refactoring-into-modules" class="currentModule">Refactoring into Modules</a>
    2.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/80-dad-jokes-modules-refactor/#fixing-refactoring-errors" class="currentModule">Fixing Refactoring Errors</a>
    3.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/80-dad-jokes-modules-refactor/#recap" class="currentModule">Recap</a>
-   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/81-bundling-and-building-with-parcel" class="currentModule">Bundling and Building with Parcel<span class="videoNumber">Part 81</span></a>
    1.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/81-bundling-and-building-with-parcel/#benefits-of-bundlers" class="currentModule">Benefits of Bundlers</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/81-bundling-and-building-with-parcel/#bundler-options--alternatives" class="currentModule">Bundler Options / Alternatives</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/81-bundling-and-building-with-parcel/#using-parcel" class="currentModule">Using Parcel</a>
    2.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/81-bundling-and-building-with-parcel/#dad-jokes-module" class="currentModule">Dad Jokes Module</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/81-bundling-and-building-with-parcel/#installing-parcel" class="currentModule">Installing Parcel</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/81-bundling-and-building-with-parcel/#adding-an-npm-script-to-packagejson" class="currentModule">Adding an NPM Script to package.json</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/81-bundling-and-building-with-parcel/#building-with-parcel" class="currentModule">Building with Parcel</a>
-   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/82-using-open-source-npm-packages" class="currentModule">Using Open-Source npm packages<span class="videoNumber">Part 82</span></a>
    1.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/82-using-open-source-npm-packages/#node-modules-folder" class="currentModule">node-modules folder</a>
    2.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/82-using-open-source-npm-packages/#using-third-party-packages" class="currentModule">Using Third Party Packages</a>
    3.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/82-using-open-source-npm-packages/#third-party-node-modules" class="currentModule">Third Party Node Modules</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/82-using-open-source-npm-packages/#waait-npm-package" class="currentModule">waait npm package</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/82-using-open-source-npm-packages/#faker-npm-package" class="currentModule">faker npm package</a>
    4.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/82-using-open-source-npm-packages/#commonjs-syntax-vs-ecma-script-modules-import" class="currentModule">CommonJS Syntax vs ECMA Script Modules import</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/82-using-open-source-npm-packages/#date-fns-npm-package" class="currentModule">date-fns npm package</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/82-using-open-source-npm-packages/#axios-npm-package" class="currentModule">axios npm package</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/82-using-open-source-npm-packages/#lodash-npm-package" class="currentModule">lodash npm package</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/82-using-open-source-npm-packages/#await-to-js" class="currentModule">await-to-js</a>
-   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/83-security" class="currentModule">Security<span class="videoNumber">Part 83</span></a>
    1.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/83-security/#javascript-is-public" class="currentModule">JavaScript is public</a>
    2.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/83-security/#xss-and-sanitizing-your-inputs" class="currentModule">XSS and Sanitizing your Inputs</a>
    3.  <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/83-security/#farcebook" class="currentModule">FarceBook</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/83-security/#image-event-hijacking" class="currentModule">Image Event Hijacking</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/83-security/#sanitizing-user-data-with-dompurify" class="currentModule">Sanitizing User Data with DOMPurify.</a>
        -   <a href="https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/83-security/#https-origin" class="currentModule">HTTPS Origin</a>

##### <span class="grit">Module 15 - Final Round of Exercises</span>


<span class="grit">Modules</span>
=================================


JavaScript, ES ModulesEdit Post

Let's talk about modules. Being able to share code across multiple JavaScript files and even across multiple projects is an easy thing to do when you start to use modules in JavaScript.

<span class="grit"><a href="#what-are-modules" class="hash-anchor before"></a>What are Modules?</span>
------------------------------------------------------------------------------------------------------

So what are they?

**Modules** are a way to structure and organize your JavaScript, and it gives us the ability to share functionality and data across multiple files and projects.

A few things you need to know about modules:

-   They have their own scope, similar to how a function has scope.
-   They can hold anything (functionality, data, config)

<span class="grit"><a href="#use-cases" class="hash-anchor before"></a>Use Cases</span>
---------------------------------------------------------------------------------------

If you recall in the previous lesson where we built a currency converter, we had a variable `currencies` that was a giant object of all the currency codes and names. It would be nice if instead of having that object directly in our file, we could put it in a separate module and then import it into the file to use when we need it. That is what modules will allow us to do.

Another use case for modules is utility functions.

For example, in the Dad Jokes lesson, we had a method `randomItemFromArray`. That method is not specific to that project, it's just a handy array utility. We could throw that off into a separate file that is used for utilities.

### <span class="grit"><a href="#modules-in-the-browser" class="hash-anchor before"></a>Modules in the Browser</span>

Let's look at how modules work in the browser, and then we will look at some tooling that will help us work with them.

You might hear modules referred to as **ESM**, **EcmaScript modules**, or **ES6 modules**. They were added to JavaScript a couple of years ago, and they are the best way to organize your JavaScript when you have multiple files.

Let's go into our playground and create a folder called `modules` (it might already be there for you).

Inside that folder create the following files:

-   `index.html`
-   `utils.js`
-   `handlers.js`
-   `scripts.js`

That gives us 3 separate JavaScript files.

Add the following code to `scripts.js`.

    // scripts.js
    const name = "wes";

In `utils.js`, add a simple function.

    // utils.js
    function returnHi(name) {
      return `hi ${name}`;
    }

Let's say we need to use the `returnHi` function in `scripts.js`. Can we do that if the function is in a separate JavaScript file than the one using it?

Let's try. Modify the code like so.

    // scripts.js
    const name = 'wes';
    console.log(returnHi(name));

Go into `index.html` and add the base HTML if it is not already there as well as a script src tag and link it to `scripts.js`. Open the html page in the browser.

When you do that, you should see an error that `returnHi` is not defined.

That makes sense - because we have not yet put our `utils` on the page.

You might think we can just add another script source tag above the one we added and link it to utils.

    <script src="./utils.js"></script>
    <script src="./scripts.js"></script>

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:204px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:31.372549019607842%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3ElEQVQY032QW2vCQBCF8///gvVdrFof6rVe0NJaQRRUSHyrDbQm0WIfciF7OTIDG1YpDnzs7Jk9zMw6URTBEAQBE4YhbJ0gzXBbs3GSJEGapqAzz3POsywrNCKOY77/V7vFgRWf+y/kQuB8/mOjHUopPqWUuBeO1rp4VK3V0X8ZYvYxh+/7rA1GY3R6fZQeyhgMR2g8NXE8/RZNyG/DE1JC4Xo7rDdbTKavcF2Ptbf3GSrVR7TaXSyWKzy32vj+OcD2XU0ohIDBdKSJpRD8p1dr0yZaQynJNdtruACNMcgc1ogQ/gAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/d376c18f4aa3ff2a2284f8098e200559/779ef/1207.png" title="hi wes in console" alt="hi wes in console" class="gatsby-resp-image-image" /> </span>

As you can see, now it works. All we had to do is put one script in front of the other one that needed it in.

### <span class="grit"><a href="#in-the-past---sharing-javascript-code-between-files" class="hash-anchor before"></a>In the Past - Sharing JavaScript Code between Files</span>

In the past, this was how code was shared across multiple files.

That got out of hand pretty quickly because you had all these files that had dependencies and the order of the script tags affected the execution because they all have to load in a waterfall, which means one after the other. Each file is assuming that the other one has access to it.

If you look at our `scripts.js` file in VS Code, ESLint is complaining that `returnHi` is not defined. That is because that function does not exist within the file, so where did it come from?

The only reason it works is because we have globally scoped the function in another file and we are just assuming that it will be available to us on the page. That is a very brittle way to write JavaScript

#### <span class="grit"><a href="#in-the-present---sharing-javascript-code-between-files" class="hash-anchor before"></a>In the Present - Sharing JavaScript Code between Files</span>

The solution to that is to use modules!

When you need a function like `returnHi`, you can just import the function from the module, which is the same thing as saying from the file that actually contains that function.

When you do that, you don't really have to worry about things loading before each other, because we will always import the values we need before hand.

Let's change this example to use a very sime module.

In `index.html`, there is just have one script tag and that is going to be the entry point into the JavaScript.

Add the `type` attribute on the script tag and set it to `module` like so 👇

    <scripts src="./scripts.js" type="module"></script>

Modify the code in `scripts.js` file to contain the following:

    const name = "wes";
    console.log("Its working...");

If you refresh the HTML page and look at the console. you will should see a bunch of errors.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:934px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:38.666666666666664%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVQY0xXH226bMAAAUP7/ayZNU6VJSZuUgMFJDI5twOUSfOcSQlPUVl2lTH07x9NF46RzqutM37nLj3/qnB1b6ZQdhe7P0pruysWUFqZRQyutNIPpr56mNQMJAUmOOUUZAQk70pJVpBARyqIkg2mx3u0xF2nRrHbQh/gZ4hhz2d28tpv9ONkG+12U7pOMJey0gzhCZBPmB1IcSQ5xjjLyHFMfsuDAwiN5CukG2HHxtOhrgKptVPmwPVKDqDrxOjiYPdHkpd0AlRYKsXblS4glxApiuceOt9386enuVj6s68dAQNKGqAkObYybdSBifD7QNkTV341Ic0ErzaUutUC5u7y72z8zfXgjK6eEOlqYsh1eGoWIzUvLuCK5xpmthMkrfcrn6dbb0enB2VGdtRV27ifvK8t7lDQYZzGsMaZxfAoBAyD1/cT30WaLdwEBQBPCgpDHscB44Hxu6u+h876ttavHbuv3fx76p6379fsC4sWaRclFyTcpF6XejV6UepPyw9qvob/fXu+v8/06/QefBZlHO8RcFgAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/62d42b79423f6ca32ec337ddb4d52d21/078fe/1208.png" title="cors blocked error in console" alt="cors blocked error in console" class="gatsby-resp-image-image" /> </span>

This first one is the CORS issue again. It is giving us trouble because you cannot use modules unless you are running it on a server.

<span class="grit"><a href="#setting-up-server" class="hash-anchor before"></a>Setting up Server</span>
-------------------------------------------------------------------------------------------------------

We cannot use a Parcel server because Parcel also handles modules for us and Wes is trying to show us how they work without using a bundler. We just need a very simple server up and running.

If you know how to run a server to serve us these files, feel free to skip ahead.=

There are a couple of different ways to do this.

1.  VS Code plugin

If you go to extensions in VS Code and search for "Live Server", you should see an extension that matches it and you can click install.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1458px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:30.66666666666667%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFklEQVQY03WQXW+CMBiF+RNSlGBJ5UOM0kLBFlRavrRzzmXJdrNs8Q+4ZP//ailsl0uenJyL9+TNOYa7TuE6ny4p8PEMH2zazJN9VHZR0XnbGmYdzFvElJ02MO8BFmZcDQgzFkZUtoh1FmknWLrp0U8uIb0g1pP6uhJXxJVXnAN+RLQCm4NFaoAlwHIy5I1N9RSxBtFmKj7Z/v05+77uvgLxGso3j6tFoRBXi2275I3HT0H5iJjyyzPMex1epjxqP8Lz3SGVHVeQKjdpbXGz5c2K9asRMCqWFpHWoDocEOZl0uMPM9JBWrvb0zzvnUTOae1kvbkRZqzvwFASaC+BRntjle9CnPlJ4fAXc73/a/XbbRzmP34A0GNFx0Y752gAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/e8ed7ce7c9b77711918d058f1a36ae4f/6b95e/1209.png" title="live server extension for vs code" alt="live server extension for vs code" class="gatsby-resp-image-image" /> </span>

If you go back to the modules and right click on the `index.html` and click open with Live server, and that will start it up in the browser.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:754px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:109.86666666666667%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEyklEQVQ4y2WT21MTBxSH82BnNNonCYQEuUqCgexuNpgLkAQIXnC4iEVtEAdRQW3HTtupGEVj7tlks9nsbrKbO4EQAhQDJFxCHLWdsTN1+n8IfW1fDH3pLOhMZzpzXr/5ne8353D+eP/++s3xo2XCeolE2tpQ39Jwsu50WU0Dv66Of0bOBzv5gFYAdVZCunKphg9qK6QaPqA7HE7pz72Rm3eOCU7XNcP1KqhaC51qUwha1AJAJYD14MWx/vFHfeM/Xb0/PTQxpR68WwFfqoT0FVJtOaDj/LP3YfT2t9xaoAZsb1Jomzt6WydXBkyve5/sXDC+6nuyNWx/d8Xx+3UXO4of3oEPf6vpelDerK4Auzj7e7sjo2NHecLaM81NLbVnVZLniN9o9T51EY9dgSkn5U2uk5kdIl3wLxTcMzkTlR6+NwWfG4bPXz2Ebx3lVdU2Q00QIFMprR6/0eJ67sKnEfIxEsRTufBKMbSyE1rZIdN5fHb16v2pls7L0LnhT/AxnlAEtIpkarmmx+qlbFjQgtEmLPyCSDrCi0h02R1b9sSXyYWNyNovX903At1DMjZ594NhdIxbLhQDcCOogNQ6C+o3uXxGK2p04EYkYPJFLUTM5GVe4BF7KEXn3lx7OC3tHBRphzn7u7uGG2NcnlAMyE9DClCts3lJs4e0eANWPGLGIwidjCzlQksv6Zer+M9r9Oabr7/5UXdxsGeAdd4zfFpb3gC0AkqtHaMQMuwJxD3MHBpKUXPL8Ww+sZ6LbuVDm3kqt/3g8bNrhtHRW3dZ58/JsBhWAyqtFSXMHsIfnQ/OZyOLuUR2O7m+NbOxmShshtZX7eHYlYnvmtougF0DnNLffxnG7nB5gibwrAhSsmtjpAOn3YE4HsswC2vJ7HZ6o5jZLi4UiqmtwsL2ztDE97WKi+KOPk5pv2QYn+SWCUSAXAyrINaZeObEpl44LT56NltY2niVLbxe33mTK75d2Sims/nlXCFX/HWt8JZTKn003JrglgkapXIxrAbVnVYvOW1Hn1jdJjeB0olwMr2a317Lb2Vzm7HELOan/H7C43Kibvd/YLaws4BKa8Mohz9kQSkvk2RmMom5zPzC4nw6k0qlZ5JzmcVlfc/5I0e++PL4cc5+6aNh/DAZFkEKUKU1u31GC2JBSTyaCs0uxZLzicRMLBaPRmORcHRuNtXXPyCsqq6vbziEJ4/zBGKwVQyrZW2dZrf/kcn53OUj42k6kQ7Hk5FIjAmFGSYUDDKYD9dptXx+ZaME5OyXSiO3752oEDTJWGd5h97mpSwoWzgRmw/EU0x0JhSK0DQTpBmSCrgQd1dXl6CqurbuIPnG7UkuT9DYIhPDKnlHtwUlnH7G7CEsKGVHCQeCBWmGpplAkKYCwWgscal/sLKy6pSw6gD+7NwIsbdtZc+TsGEBE4LbWBh1OpFAkKaZEEkFvJhPr+/hnSz7P6w8eAxy2u61eMindvSZ3WO2I1ar/QAO+3DShaA9en1leXlN9SkWHjmARYBcJGMvzIJSDpy2YUGrN+DEKDdG+nA/q82EaSYaT6QGL1+RNNTIJY2f4BMVQjHEFiaGVd2XhlTdvVKlBmjvUev7dTqdUqnUdGja29rb29q13ecUbZpmiaRVBv0LY+U6CdwX2b8AAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/d171e7be18a199b87ee625380f49839f/7527b/1210.png" title="open with live server in context menu" alt="open with live server in context menu" class="gatsby-resp-image-image" /> </span>

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:930px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:23.2%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2klEQVQY02WLzWrCQBhFvxif1Bh/HqPvoPuaLEQwM5NFQamajSAK6iImCqWtIqKSpKNiA5pxRjSotMLhchfnwCEMd5RSuvma+/anN1sE6+U68Gng/4T7X86OnEWcMcGY4FwIwU+nKGLearX1Pajbi7fBDPWmhdrkBY2L9YnWtEstR7dc3XJLzdFrY6S1HM1yq90p7s/L7Y9K51t/HxptB0AxYiQVJ7IYVAzpGPR/FQNSBigIFCRliKRiSOaIfMGUcyRxO0/gy+ZNOU+uvnk1CciP4J499+bfH0POgjendfemX3cAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/cc480869f6c5b734dd42b3ca3a0072f6/416ee/1211.png" title="live server started the application at url `127.0.0.1:5550` which is equivalent to localhost" alt="live server started the application at url `127.0.0.1:5550` which is equivalent to localhost" class="gatsby-resp-image-image" /> </span>

That will start up a localhost server. The url is `127.0.0.1:5550` which is the equivalent as localhost, it is just the IP address. You can replace it with localhost and it will work just the same `localhost:5550`.

Now if you open up the dev tools, you will see that it is working.

1.  BrowserSync

Another way to get a server running is to open your terminal and run `npm install -g browser-sync`.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:32.800000000000004%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQ0lEQVQY02WQW26DMBBF2UOrgsM7UAgNCdgYQyAJLxtwAqVSmwVU6v7XUDmR+lPpfJyRZnRHV3rKv9XzzSS1nXEDM4sMZtprmCpxA2CrxDWADYgbJW6UqAZxA+JajuqXfSVHtaRns3N6dwvulZN7uDg5X2ejV17XOXcP3C0uwrNxnXM7G52cOwdupP3jXrJS6pdXJ+811K5Qp6JOS6iadDpmWsp0LFATqmNqpL2BmYapmfYr2D7vThLwI+BjPiVVW9o7tkHsFdINYj5kPmIeYl5MA8gM1AHYrqAIALB9ZEjbag6rJWqXXTUH5bQ9zcFRsCmu4XkRXk5vx9nOBpP0FhHhRiqwyCAF9de+/QyrJaw/LDJoCTVJb5JBTTqTDJpYFaMuvmX355lJeh0zAzPpufiJx5uBjgB2jxr+I9+7lf9EIPwXbgJUJhIOh6UAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/0805d1f99df40e952ddcd81cd2b3b0ab/aa440/1212.png" title="run the command browser-sync" alt="run the command browser-sync" class="gatsby-resp-image-image" /> </span>

In the terminal, cd into the `modules/playground` folder and run the command`browser-sync`, it should start up a server.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:36.53333333333333%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIUlEQVQY033ObUvCUBQH8H0ER9vupk7UapnXc+YeNOXmfXCbMQIzUMpX6ruy7Pu/jI0cQRD8OJzzhwN/jfH8YnYg8mTPv2x1IurTEkdLfpj82ErfX7fs7eDny9gIhRNzOxDElxUN2UofbR22u1K7XrL35ntnvKmPN+Z47UzWkZzep1EgJmbISTwjAbdQVLRAPDVDdcNyDwWAHICgIClID4Q5YDqVtb7SqbRA/Pj9PFLPTqAup7mHCYXCABKKqYvKRPGP4vkufalHD53p43WU9aPFbZj1w0VvmLZ81UTponKxWBoom2etMicotMVyVYOEDLNGlLijYjbirD6ct0F1sNBF1UbZxvMJRdJFZZe1lzplxBcWcBO4Vaq6GaW/nY2y9jfbE1Ik93eJBQAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/db3f44a639d3d6e8e0b7ff1fa90cadca/aa440/1213.png" title="server is started in command line" alt="server is started in command line" class="gatsby-resp-image-image" /> </span>

If you open up the dev tools, you will see it is working but we get an error regarding `base.css`.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:13.333333333333334%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAoklEQVQI1x3JyQ6CMBRAUf7/s4xRYWEEanm0FMIQIQxleA/QdqHB5C5Och0EoDhGIVDEGMEi5SsWJcjU5/kTxIPJe1BFMAmxBMGaqqnIKx6VYWi7zhlP5/nq0s0lz9sBTJatidpUSowRAAJgGBLAxtibc6PUniQo5Oj736Z2Lqx2o7btaRg3TXZYPhqNXsxIVuPRH+ZYZDTause0aLKynVf7A3dUoLMNWTT2AAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/40577f536a18880530af1564b0747c12/aa440/1214.png" title="error regarding base.css in console" alt="error regarding base.css in console" class="gatsby-resp-image-image" /> </span>

That is because we are running the server within our `/modules` folder but the base CSS file is actually at a higher level and it can't go up higher than the root.

The solution for that is to open up `base.css`, copy all the content and then make a new file within the `/modules` directory called `base.css`.

Now let's modify the path to that file within `index.html`. Modify it like so:

    <link rel="stylesheet" href="./base.css">

Now if you refresh the page, you should no longer see that error.

At first it seemed like both of those options supported **hot reloading** or **live reloading**, which is the term used to refer to a feature where a server cause a browser to automatically refreshes the HTML page whenever a change is made to the HTML, CSS or JavaScript files.

However it seems like the way Wes is running browsersync isn't hot-reloading. It may be that the `browser-sync` command requires additional parameters to enable that but we will just stick to VSCode server since it is the simplest one.

Now that we have the server running, let's get back to the exercise and pick up where we left off.

How do we take a function that exists in one file and use it in another? You can import it from that file.

<span class="grit"><a href="#importing-and-exporting-modules" class="hash-anchor before"></a>Importing and Exporting Modules</span>
-----------------------------------------------------------------------------------------------------------------------------------

There are two types of module imports:

1.  **Named Imports**
2.  **Default Imports**

Before we can import something, we first need to export it.

Let's go this by going to our `utils` file and exporting the `returnHi` function.

    function returnHi(name) {
      return `hi ${name}`;
    }

When sharing code between multiple files like this, the word we use for each file is a module (so a file is a module).

If you want to surface functionality from one file to another, you first must export it. We will export it like this for now:

    export function returnHi(name) {
      return `hi ${name}`;
    }

In `scripts.js`, let's go ahead and import that function now.

You do this by using the keyword `import`, a set of curly brackets between which you supply the name of the function we want to import, which is `returnHi` in this case and then we add the keyword "from" and the relative path to the file that contains the export, which is `utils` in this case.

    import { returnHi } from "./utils.js";

Now within `scripts.js`, we should be able to add the following code:

    import { returnHi } from "./utils.js";

    const name = "wes";
    console.log(returnHi(name));
    console.log("Its working....");

Now when the page refreshes, you will see that it is working.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:328px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:43.292682926829265%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNUlEQVQoz41SyW6DQAyd//+SppV66ZKFQ9MsbZMckhzodkKVIAoDBBh2CK+yJSKiNhKWnhi8PPt5Rui6DsdxoJSCZVnQNA2maSIMQ7iuC9/3EQQBx3a7HfvJdwmCEgiHw4EdaZqeisjned4pRmj+L0EURQHbllAqAp2rqkIcx0ya5znI6rruDJHlOZ6nMzyNJ4jjBIvlCle9a9zdP0J//2DC4/GIriZoIgJNWJYl7zIIQkRRzJM2ExJpA8qn3Ka2DUEJruchVAp5UVD5qRsRUYMkSZBlGZMQ2vF2I4Kg8vFkirflir90s59f3+jd3OLldYHZfI7hcIT1eoP+YISH/gCGYZzt+I9kx3FZ5t62eRp6JobxAykdli6lxH5vw5YSm+0WpmnxjdKLaFZwJrltJKOr/Sf5F1UpsK6oi6fIAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/de3a478dad71e3a5f480585075eae3bc/d5c60/1215.png" title="is working log in console" alt="is working log in console" class="gatsby-resp-image-image" /> </span>

To recap:

We defined some functionality in a separate file but in order to in order to access that functionality, we must first export it from the file it is in.

Exporting it is a way of telling JavaScript and the bundler that those functions or files are available to be used by other JavaScript modules.

In a separate file, we imported that function and used it.

**You always do your imports at the very top of the file that you are in, and you can have multiple imports as well. Then you simply have access to that functionality and can use it.**

<span class="grit"><a href="#things-we-need-to-know-about-modules" class="hash-anchor before"></a>Things we need to know about Modules</span>
---------------------------------------------------------------------------------------------------------------------------------------------

### <span class="grit"><a href="#scope" class="hash-anchor before"></a>Scope</span>

One thing that Wes mentioned briefly earlier is that modules have their own scope.

What does that mean? Let's look at an example to demonstrate.

Let's say we have the following variable within `utils.js`: `const last = 'bos';`.

What would happen if we want to access that within the `scripts.js` file like so:

    import { returnHi } from "./utils.js";

    const name = "wes";
    console.log(returnHi(name));
    console.log("Its working....");
    console.log(last);

When the HTML refreshes, you will see we get an error "last is not defined". That is because `last` is in a different module.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:942px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:21.866666666666667%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvUlEQVQY022MW2+CQBhE+f+/DW9BoEVMQ3dx+Yyx9gZ75TTavtQ4ycnMw8lk1lpEBK014zgyp0QIAe/9Q0LwOOf5nv4z2sBLp8hiShgR5HRCm+G2rffcZ75rHhjDYMi+Vmvedzs+V2suec5lu+VjucQ2DVNZMlUVtm0JWmPrCq8Ubr/HtS22rpmq8ubOb2dM05BdxXAU3GbDebFAFwUqz5GioL8edx3JGOJRCOqVKELse+LhQNDqD/17+PzED/LmLsasXi7KAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/e10a4afd0681183826ab72c0cf7d3aa7/f1901/1216.png" title="uncaught reference error, last is not defined" alt="uncaught reference error, last is not defined" class="gatsby-resp-image-image" /> </span>

What if within the `returnHi` function in `utils.js` we use the `last` variable like so 👇

    export function returnHi(name) {
      return `hi ${name} ${last}`;
    }

Is that allowed? And is it going to work?

Let's find out.

Within our `scripts.js` remove `console.log(last)`.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1012px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:10.666666666666668%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAd0lEQVQI10XH3Q6CIABAYd//+WoVhIBC/lHTXPiTdtq4qIuzbyc7CstBFChd0oSB9j4kb82D3Hpy13FSDmFqzsojbYvUJZerQRlPE3p81aUXypJV4Ym0Fdo6+jES543X9E5O6860bMzr/u/3n9QYF5Qu0MZRuJovzweVxXo8xW4AAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/9d88ea3865aada0cf475c721f8722a40/ad997/1217.png" title="hi wes bos, its working log in console" alt="hi wes bos, its working log in console" class="gatsby-resp-image-image" /> </span>

As you can see, it is working.

That means that you can use variables that are defined inside of a module, and they will not leak out and become available in any other file, however you can use them inside of that module, no problem.

That is what is referred to as *scoped to the module*.

The variable `last` would not available in the console if you were to try, because it is not globally scoped, and it is not available in the `scripts` module. The `last` variable is simply scoped to the `utils` file and can only be used within that file.

Is that good practice? Yes!

The beauty of modules is that you don't have to worry about scoping or anything like that.

You can just create variables inside of that file and they are only available inside of that file and nowhere else.

Now what if we *did* want to be able to access the `last` variable inside of the `scripts` file? We could export that variable by putting the `export` keyword infront of the variable declaration.

    export const last = "bos";

Now within `scripts.js` we can modify our `import` statement to import that variable.

    import { returnHi, last } from './utils.js';

At the bottom of `scripts.js` let's log `console.log(last)`.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:30.4%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABa0lEQVQY02Po23mjddOlhrVnGteda1x7tnn9+fYtV3p333ZJKpfQsdKzcVa3dFay9Fa18lS29FA0dVAwtpE2d5a1dJEycmRgCFzMELKcIXQFCIUsB6GgpQwhq9nMEyW0TeQMrWWNHaVNXKVNXSUMnaX07aUM7CSMHCSNHcUNHBgyF57IWnQybd7R1LnHUucezZh/LH3esZyl58wiCkQ1TJQsHFSsPRVMHRUsHaSNHCUNncT07EV1QUhMz57h05sXXz+8+fPt0/cvnz+9e/vp3Zu3b978+vY1s7SOV8VE1tpTztJZ1cxazcJa1dJV1dpbQt9eVA+kE6T57bv3z56/+PHr99+//37/+fvz95/vP3/9//8/p7KJS8lQxtxFxsxRzsha3NRJxtJJ2sROUt9OTNcWghh+/Pz59+/ff//+/fv//99/EPj79+/////zqpv5VE1V3MPVXIP0HH31PUIVbXylLPylLfykzKEIADK3mNbJLaZhAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/f13fe787a78638564eca9af472827b9b/aa440/1218.png" title="console log last in code and console" alt="console log last in code and console" class="gatsby-resp-image-image" /> </span>

As you can see, that works!

Another way to export a value is instead of exporting it when you create it, you can export it from the bottom of the file like so `export { last }`. This is referred to as a named export because they have a name on them.

Here is what the `utils.js` file looks like now:

    // utils.js
    const last = "bos";

    export function returnHi(name) {
      return `Hi ${name} ${last}`;
    }

    // named exports
    export { last };

Let's say we have multiple variables like `const middle = 'slam dunk'` and we wanted to export that as well we could either add an `export` to the variable declaration or we can export middle using a named export like so:

    // utils.js
    const last = "bos";
    const middle = "slam dunk";

    export function returnHi(name) {
      return `Hi ${name} ${last}`;
    }

    // named exports
    export { last, middle };

If you go into scripts and modify the file to import that variable and use it like so 👇

    // scripts.js
    import { returnHi, last, middle } from "./utils.js";

    const name = "wes";

    console.log(returnHi(name));

    console.log("Its working....");

    console.log(last, middle);

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:324px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:58.0246913580247%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABjklEQVQoz5VSXW+CQBD0//+YPhj7QaNWRQt+VywoWjiq9sEIaOMDqMA0u+aSxqJJN5lwO7e3O5uh4Ps+wjBEEAQMyjebDX8JxNG9zCV3DYXT6YQoinA8HnE4HJBlGX4H8XQvI01T0JtrKFCR3umiVlex3e6w8X08Ks9QlGeMjDGiOEa5WkWtoaJSfUEQhLgV3DAMt3CF4OLd7hvG+B2mNYHrClbouC7s2Zw5GiqV5qGQJAmvSsl/QjagNamHBCucOw7a3T56gyFWX1/Y7/dotjQM3wwMBkM0VBUfjoNur49Or8/nLE1Zfe7Ky+UKrvBgmhY8z2MTKpUaDOMd3ufneV3TgjWZ4lXToapNrNdrdlWqJTMJ7PJlXDp9K3JXntgzViGEB98PuIgMccQZ7HYUYbFYwrbnWCxXMC0LQog/Arhhu9NF6fEJtXoD06mNOI6ha23MZh8olu5xVyzCDwKMRiM8KWU8KGW0NA2vup6/8jk5T6JLkk7nJEkhhyf8KGUzJEc1uT+27C6Rx13Dpcs/i26P6aT/J0oAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/ff2f118773bb3d27cae4230ec7ce1af4/67580/1219.png" title="last and middle variable logs in console" alt="last and middle variable logs in console" class="gatsby-resp-image-image" /> </span>

Which type of export should you use? That is a personal preference so use what you prefer. Wes often uses a combination of both.

You can also export async functions.

If `returnHi` were async, we could export it like so 👇

    export async function returnHi(name) {
      return `Hi ${name} ${last}`;
    }

As mentioned earlier, that is what is referred to as **named exports** and **named imports**.

The way you can tell if something is a named export is if it has the `export` keyword in front of the function definition or variable declaration or if it is exported using curly brackets because those are only used in named exports.

The other way to do that is a called a **default export**.

Every module can have as many **named exports** as they want, however it can only have one **default export**, which specifies what is exported from the file by default.

For example, let's make another module `wes.json` and in it assign a variable `person` to an object, and then export that variable like so 👇

    const person = {
      name: "Wes",
      last: "Bos",
    };

    export default person;

Then if you want to access the `person` object within `scripts.js`, we could import it like so 👇

    import { returnHi, last, middle } from "./utils.js";
    import wes from "./wes.js";

Now let's log it `console.log(wes)`.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:25.6%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAo0lEQVQY04WPwW7EIAxE8//f2FWTFZUgIQGDMa7A9irqOerTHEd6M0tKybmf04cSQgYoMaawX9CQGJBL+y3IBZmIeu/MXGv13u/7nnNezCwHOFaf12+iLmPomKL2hKrOKSKiqouIEBIBMfXzPMcYf41HROe4EZGFGjnn1m1DbGYmok+ZU8zsuq7X1+u9ve/ZrTMAxBhrxX+cep9BxOM4Ukq99w/sZCHyDNceFQAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/230b0f89fafe854c91b5b542d82d1742/aa440/1220.png" title="imported wes module as console log" alt="imported wes module as console log" class="gatsby-resp-image-image" /> </span>

Now we could have named that import anything we wanted.

For example we could have done

    import { returnHi, last, middle } from "./utils.js";
    import westerhoff from "./wes.js";

    console.log(westerhoff);

If you refresh the page, you will see it still works.

### <span class="grit"><a href="#difference-between-default-and-named-exports" class="hash-anchor before"></a>Difference between Default and Named Exports</span>

The difference between default exports and named exports is that with named imports, you must know what the name they have been exported as, but since there is only one default export per file, you can import them and name they whatever you want.

Which type of export should you use? There are arguments to be made on both sides.

Wes will usually use a default export if the module does one thing, but if the module does multiple things, like a utility library or something like that, then you can just have multiple named exports from it.

You can have both named and default exports in one file.

For example, in `utils.js`, we will default export a variable called `first`, by adding the following code to the bottom of the file 👇

    const first = "wes";
    export default first;

Now within `scripts.js`, if we wanted to import that it wouldn't go in curly brackets because that is only for named and `first` is the default. So we could import and log it like so 👇

    import first, { returnHi, last, middle } from "./utils.js";
    import westerhoff from "./wes.js";

    console.log(westerhoff);
    console.log(first);

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:41.06666666666667%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHUlEQVQoz42SYW/CIBCG/f//a18W46ctnbZbu0lthVKBdmoj7bOAupiYxZG8wN3xvhx3zKSUGGOQSqG1pu97dlpj2hZrDM5arHNYa3HOYZom+sKZaFtL1znUrqNuv5kB9J1DbiuSJOEjzzk4h1osaFcpx8OBqq7JshTb97iiQM7nKCE4DkOgM00T5zEFwYmV0DwvK07e470nxEfvGccRP46X9WwHcohd/dG+7ANihq+F5Oll/es8nc7kcZoi4RZXkb/sWZh2rcZZQ5q9xzomyZL9fh8fcXv7I0TBQAoi5WaDahqEKPlarxFlyTAMdxk+QhQMHVRK0WiNEILtVpLnBV3X3dXoEaJgyCYvPuP3Sd6WbKqaVZrFjt8K/ifDHx57ayMDFlNLAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/548a7e98d8f7d2edb102e5c5d2e774d1/8c557/1221.png" title="named and default modules imports log in console" alt="named and default modules imports log in console" class="gatsby-resp-image-image" /> </span>

To reiterate:

-   named are in curly brackets
-   default are always only one and outside of the curly brackets.

<span class="grit"><a href="#renaming-modules" class="hash-anchor before"></a>Renaming Modules</span>
-----------------------------------------------------------------------------------------------------

Another thing about modules is you can rename them as you import them.

Let's say we wanted to rename `returnHi` to `sayHi`. We could do that within the import statement like so 👇

    import first, { returnHi as sayHi, last, middle } from "./utils.js";

That will import `returnHi` and rename it to `sayHi`, kind of like destructuring but with different syntax because we use the `as` keyword.

Now let's replace where we are calling `returnHi` and instead call `sayHi`, and then log `sayHi`.

    import first, { returnHi as sayHi, last, middle } from "./utils.js";
    import westerhoff from "./wes.js";

    console.log(westerhoff);
    console.log(sayHi);
    console.log(first);

    const name = "ws";

    console.log(returnHi(name));

    console.log("Its working...");

    console.log(last, middle);

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:866px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:32%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLUlEQVQY023Ly0rDUBSF4bz/IwiCDupl4kRExYFVW0R05A0ttrFp2iTm5FxymtokTX9JWkHUDR97sdjbiaKQJEnwPA+pJMF4jIgiUqUwRqO1RiuFFgIlBEZrwiDAGIMXKt7HMcOJYBjUEpyqgjS1+L7PaDQizzJM75VPKdHGNM82taSui3BdPuc59ZSLJYuqRqNcc6Ik47Zn2el4tNpvtC767FwO2Dp7Zrfrc/qoGX7MGISWYVzvKV6cEcrZv5yJmHL0YNlqv7N5+szedUDrymP7fMDG8SObJ08c3gXst1856Loc3Pjc9C2RzJiIv5xYz+j0NP3Q8iGnqKxETgvUmrQ5cZoj0qLZq1yb/7LqHRYLru9dXvoTyOdURUlVFI1lo2RZrnP5rVz1P2/W+QsoaL+GPyHmOwAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/d916612c24caa1cd92f7e429f79e7c2e/c1328/1222.png" title="returnHi function as console log" alt="returnHi function as console log" class="gatsby-resp-image-image" /> </span>

As you can see, when we log `sayHi`, you see that we have that function there as `returnHi`.

Let's take a quick look at the docs. Google "mdn import".

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:97.06666666666668%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXklEQVQ4y32TCa+jIBSF/f8/btLXzHPDtlpxeQoq++I2EVons34xBogHzpVzAyHVxDghZBjHcZwgrPKigFXdNG1dN89nWdXNV9fhYewRRhgLqYyxQgjBeUCYeHZoYsJYu67rNE0IIc75PM/WWu2w1mht7MG8bdv+JpDaTvzYTRszzzOllFByePAcdkaMMUZomiY8jkKIdV33fd+2LVBKCcGlW9r2va7r0lFVVZ7nsK5hXXdd1/c96g/atpVSvsT9MDUIn/sphz6xs7bz/g8CKhQVclkWX4xZVj2v0lihjdCGK8OVZlIz/3aPW1HG2kBrM44jmcjmeBZFnudCCG9s/y+BMZYQorXe933dtkdRPh6Pruuogzg45/JXhBDGmEPMKPUFL9v2Eae3LIveXK9XAEDXdW3bVlXVdd2Xo2kaSulRM2HcGzzEUZqmaRzHt9stSRIAQJIkaZqWZYkcfd/7vRhjAZMKDaM2xosvYZK6r7Msi+M4DMMoisIwjOM4TdMkSbIsK8vyJbbWCs45Y0brdd+/fQ+v14/L5fL5+QkAiKLo7vAuAAAQQn/bh1hJjvDQ42EYJ7usIbgDkKYAxHGU5/n9focQNgetS8rh+adtqxUmjEpl5nlZVzyMCCEhxDzP5o39A2PMsizBmSH/z4ZhqKpqPDIsKaWcc9c/R5/85Z7lESN9zhHGTV3/HlKt/YoxRillrX2JtZ2pVGeeCKF5nrvWgFVVPZ/PoigghOcAltAn6iUmrks8hBAppT9WKSWlPI89p2dsD9sj+5nkYRgwxlJKxpgv2MPfMMaUUl78A+rSMqh6lLn5AAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/834e5b4e6c1fc8c470cde567d11dd4e0/aa440/1223.png" title="mdn import module documentation" alt="mdn import module documentation" class="gatsby-resp-image-image" /> </span>

As you can see those are all the different types of imports.

Sometimes you will see people importing modules by leaving the `.js` off. Let's try that.

Remove the `.js` from the `utils` import statement like so:

    import first, { returnHi as sayHi, last, middle } from "./utils";

When you refresh the page, you will see we get an error.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:910px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:7.466666666666668%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAT0lEQVQI1x3DXQtAMBiAUf//f0n53Ax7t6xohRu0uH+UUydLecGrFLcI0QqH9/84WdZhZHeeoDRS1WziOObA0/ckbTjLlttYrs5wNYq0RD5DSEdZzfKoxQAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/b6f98db258c1e7c9981a8ac5ef87eeac/c6bbc/1225.png" title="utils not found error in console" alt="utils not found error in console" class="gatsby-resp-image-image" /> </span>

In a lot of bundlers, like Parcel, you can leave the end `.js` off, but that isn't part of the specs, so if you are using pure HTML-browser based loading, like we are, you must include it.

    import defaultExport from "module-name";
    import * as name from "module-name";
    import { export1 } from "module-name";
    import { export1 as alias1 } from "module-name";
    import { export1 , export2 } from "module-name";
    import { foo , bar } from "module-name/path/to/specific/un-exported/file";
    import { export1 , export2 as alias2 , [...] } from "module-name";
    import defaultExport, { export1 [ , [...] ] } from "module-name";
    import defaultExport, * as name from "module-name";
    import "module-name";
    var promise = import("module-name");

Let's keep going through the different ways to import.

<span class="grit"><a href="#more-ways-to-import" class="hash-anchor before"></a>More Ways to Import</span>
-----------------------------------------------------------------------------------------------------------

`import * as name from 'module-name';`

You can import everything that comes in as a variable, like in the example above.

Let's go into `wes.js` and let's add the following code:

    const person = {
      name: "Wes",
      last: "Bos",
    };

    export default person;

    export const dog = "Snickers";
    export const food = "pizza";

    export function eat() {
      console.log("chomp chomp");
    }

It's important to know that you can import modules into any other modules, it's not limited to the entry point (which is `scripts.js` in our example).

Let's try something.

Let's take the three named exports (`dog`, `food` and `eat`), and import them into `scripts.js` by commenting out our existing import of `wes.js` and replacing it with `import * as everything` and then logging the value of `everything`.

    import first, { returnHi as sayHi, last, middle } from "./utils.js";
    // import westerhoff from './wes.js';
    import * as everything from "./wes.js";

    //console.log(westerhoff);
    console.log(everything);
    console.log(sayHi);
    console.log(first);

    const name = "ws";

    console.log(returnHi(name));

    console.log("Its working...");

    console.log(last, middle);

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:60.8%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHklEQVQoz5XR227DIAyA4bz/I+5ik1bacEoCmEOCsZmSVVOnqmv3CXHFL4EZSiniU+hRK6mUUtbaeZ6N1sbOy0VNF6ndulasuGutlVK02QHA0HufxXJ6E865isjM3I+t9860r9+YmYj4sMfRRnVSAMDE1KhVaoiYM7XW/7TH2WdQETT4OUaXaqpbLus0tW17EjNzdDGaGKYYINVa+8v22NsACqxxKefjVdfHvRYbDxK0cjGm/h9DIwIHQYdJu1zK04CZr99GbUBsSqlRypMQUu0zd863x3NGRO99gFARh1xySomJG7Zt2+rh5yfvIWI4rOs6pJTGUVpriej2bve+DwDA+/uHEOd5WYZSirF2lNI59yi7jWOM58tFGxNC+AJU9b1gme31qQAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/d16ca94dbb5564bfe4c1b8b50d3be34e/aa440/1227.png" title="whole module logged in console" alt="whole module logged in console" class="gatsby-resp-image-image" /> </span>

If you look at the console you will see that we get this thing that kinda looks like an object but its called a module.

Inside of it we have:

-   `default`
-   `dog`
-   `eat`
-   `food`.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:444px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:77.06666666666668%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACeklEQVQ4y32Te2+jRhTF8/2/ThUlf6yaKqrW661fuJtgHONAeJrh/TRg+K2gtZusox4JzejO3MO5OmduAHRdZzqdcnd3x8MfD8wXM6S1hOd5yIrMarVkMpkwm81QFAVVVZFlmcViwePjI+v1eqwXRcHNQHg6naiqijAMcUwXYQl816csSjzTQ3iCJEnQXjV83x/3Qggcx6EsS7IsG9emabjp+37gJEkTVEVl+2WH9v0N7ZuOPjcw59ZIOtz67faWv2Yz5vM5y+US27b5FaPCgXRo6LuO9thSJiWpyIismDwpqOuGg2WSOg6BbePYNnVd03XdP73vvovCc2GAu/VQfn/h+X6Dut7TAYfdjrfbW9zplFiIi6Jzz0Xhe6LzWsYVmcjIRE4e55z6HmFapNqeMggIg+BTdZeRf1UY2zGbhy3adx1zb44KfU3DuL/HmXwjPLh8hnHk98qGvw6OnlGlR+q8JhcZTdGOtebUjqlY/WuKZVmj21EUXY88XHQ8h7ZtRlNc+UB6yAiNlOAtpspq/CCm6Tr+/Pr14rYkSSPpFWFzbHE3Bw5bj8iNKOsKc7clVV9IbQtfVoi3L+SmRW47Y/D/d+S+7dFXBvuJhrExONFT+j7x0xPZXiV6fiL6e0WkKITbLU1dj3E7G3RROCCMQlzbRex8rB82aZSQ5RW6kSECn+VKYq9raIZBfWqvYnNFmBc5oR/iPh8IXkPKMifPjwRhheM6/HiWEb6P5brUTXMVmUuwP4SzA31h8CaZPH3ZEIqA4lhiShKpLBPKMsFqhbpe03bdp9H58FK6rh/DHGoRQvUp8nw8K0yLRHulcB0yXadJ0v+y231U+BMZBnMGeJi2nQAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/845256bf02e19071fa56658b0088538d/9b7bd/1228.png" title="module having default dog eat and food properties" alt="module having default dog eat and food properties" class="gatsby-resp-image-image" /> </span>

That is useful when you want to import absolutely everything from a module.

You can also `import { export1 as alias } from 'module-name';`.

Wes will refer to these docs often but 99% of the time he will just use the `returnHi as sayHi` and that will cover you almost all of the time.

They also have docs for export where you can see how to export different types of expressions and objects and things like that (we will be covering some in the examples we do).

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1356px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:101.6%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACkklEQVQ4y4WSWbOrKhSE8/9/XoYbAZlUFOcBQUSTnBKyrX3Py/nKsoqHZnU366K13vdtmqaqbqq6KasaQAQAZDxp+6Hpurbrw9f1/ayNNos2i1msWeyl7TqaZFVdd133+XxerxeOYwCAlPLzLy7jrKtRvd7vz+fjfx9jjNZaKTV63p6X52+xXpZBzVpra+3bq621QgiRH1R1LaVs2/a86H9ia9dxGJummef5sP1+L9YqpSalZqXmeZ6myTkXpu+e7YfLYu0wjtM4BVdm3SLCEIQAQgAAhBBjDCEUQiRJknrKsqyqqq7ri13Xvu+NMcHJ4rYbQNHz+XxGURQhhB6PB+ecEIIxZowRQpIkyfP8ECtt2lG5bQti47b/YkLJQexrp5QKIcqyrOs6DKx+uMxmafpBzXMow6wOUs4IoZSmaVoUhZSyKIpTEDx/xXZdJ9+kUvNr3xa3RZgSjOM4xhinaSqEYIydM+u6bprmR2zXaZpmpcZhcKtd3B5hiuMYIQQASJIky7LQVihMCEEIDfMvzuqh76p+qDrv3jpAuJ98DEfouMU3F1PK4jhOkqQoiq94Xe2g9GSW3WfWh5gxSihjlB1QT5ZlhUdK+Tuz67U5V8cXlrAj9YHI86qq2rYNUQNn4Zd1XSe9nBu3uP36BPfb7Xq93u/32+0GIUzTlHOOfRbki8zzwmd2Thn7er3Pd76DI2sEQOgMIcQ5l1KeS8Y5z7LsKy66cVndaRsQjo7thOG1iuJ45zzPhacsy9P5Ie6V3vb9t20QPQGAj8cjiqKzNc55mqa5b+Gb2bmtU9r9iM263SKEIHx6AABxHEcAYIwppXmeM8Y458HCMXn8VZh1O0myIhep3w0hhJTyLDkQjl3X/QH14FIDcNXH/QAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/ae7e2e65ff8f8bd53b190a4c9e97114e/229ad/1229.png" title="mdn documentation about exporting module" alt="mdn documentation about exporting module" class="gatsby-resp-image-image" /> </span>

The last thing we want to do is called an `on-demand` import.

    var promise = import("module-name");

That is handy when you want to import things only when you need them.

Let's go into the `/exercises/77 - Currency` folder and copy the big `currencies` object.

In the `modules` folder and create a new file called `currencies.js` and paste the copied object within the file.

If we try to export it as default by putting `export default` in front of the declaration, that will not work.

    export default const currencies = { ...

If we want to export default a variable declaration, we must go to the bottom of the file and export it like so 👇

    export const currencies = {
      USD: "United States Dollar",
      AUD: "Australian Dollar",
      BGN: "Bulgarian Lev",
      BRL: "Brazilian Real",
      CAD: "Canadian Dollar",
      CHF: "Swiss Franc",
      CNY: "Chinese Yuan",
      CZK: "Czech Republic Koruna",
      DKK: "Danish Krone",
      GBP: "British Pound Sterling",
      HKD: "Hong Kong Dollar",
      HRK: "Croatian Kuna",
      HUF: "Hungarian Forint",
      IDR: "Indonesian Rupiah",
      ILS: "Israeli New Sheqel",
      INR: "Indian Rupee",
      JPY: "Japanese Yen",
      KRW: "South Korean Won",
      MXN: "Mexican Peso",
      MYR: "Malaysian Ringgit",
      NOK: "Norwegian Krone",
      NZD: "New Zealand Dollar",
      PHP: "Philippine Peso",
      PLN: "Polish Zloty",
      RON: "Romanian Leu",
      RUB: "Russian Ruble",
      SEK: "Swedish Krona",
      SGD: "Singapore Dollar",
      THB: "Thai Baht",
      TRY: "Turkish Lira",
      ZAR: "South African Rand",
      EUR: "Euro",
    };

    export default currencies;

Let's say we want to click a button and get all of the currencies.

One problem we might have is that it's too big of a file to load on homepage or when your scripts load.

It also might not be necessary to actually load the currencies.

<span class="grit"><a href="#loading-javascript-on-demand" class="hash-anchor before"></a>Loading JavaScript On Demand</span>
-----------------------------------------------------------------------------------------------------------------------------

A popular thing to do is people will on-demand load JavaScript.

For example, JavaScript for an online shopping cart will only be loaded when someone hovers over a buy now button. Or a list of counties might only be loaded when someone navigates to the checkout page.

Loading JavaScript on demand ensures that your website loads nice and fast because we are not loading JavaScript until we need it.

If we want to add a button to our page that when you click it, will load the currencies, it would work like so..

Go to the html and add a button right in the body tag.

    <body>
      <button>Load Currencies</button>
      <script src="./scripts.js" type="module"></scripts>

Next within `scripts.js`, remove everything but the code below to begin with 👇

    // scripts.js
    import first, { returnHi as sayHi, last, middle } from "./utils.js";
    import * as everything from "./wes.js";

We will begin by writing the code to select the button and listen for when it's clicked.

Instead of writing the handlers within this file, we will move them to a separate module.

Normally we would just go above the event listener and make a function like `handleButtonClick` or something that we would pass to it.

Instead, go into our `handlers.js` file and make a function called `handleButtonClick` which for now will just log the event, and export that.

    export function handleButtonClick(event) {
      console.log(event);
    }

Back in `scripts.js` we need to import it now.

    import { handleButtonClick } from "./handlers.js";

    const button = document.querySelector("button");
    button.addEventListener("click", handleButtonClick);

This is normally how Wes structures his file. Typically he will have a JS file that will select his elements and hook up the event listeners, and then almost all his other utilities, data, functionality and handlers go in separate files/modules.

That allows Wes to import them as he needs them and that keeps `scripts.js` which is the entry point nice and lean. He can open the file and quickly get an idea of the functionality.

Then if he wants to know how something works, he needs to dig a bit further into the modules and read that.

If you refresh the HTML page and try clicking on the button, you will see the event logged.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:30.133333333333333%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKUlEQVQY042KOU7DQABFByliOQgVFGRxzwm4QhCkIAWHCLa7CIkzUAJxRIOS2D4ETSK8xHiZzXacmUlsXBAhW1RUfH19/Sc98HY8nJw+GCf35xeP4Pb16EY76I//08P+GOx3nxrdl8bl897VCPQ00BuDa60+Wn3+YL2/HYGmPGupZlMxzgbTjqK3BpOOPGvLelvWa5xJqtEaTNt3uqSYzcoxJNWUVLOjGMCyHdfz/Qg67jJA9H3hLdzQ8T5tL7C9cG65XojnlvthO34QWo6LaIxoDDFZ+gEgBBNC4phuqmzFZptljFJKkixEMUnWEU5IkkEEMUKMsTRNoyiCECKEQFmWnPPVasUY41xwzoQoxKYQQjAm8qLkghdF5eT5V54XGCGMY7bmu933D8An7pnfOHgYAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/063f17ebc15c5aeb1a914c9fd5d8d2cd/aa440/1230.png" title="clicking the load currencies button" alt="clicking the load currencies button" class="gatsby-resp-image-image" /> </span>

Now we can go to `handlers.js` and work on that function.

When the button is clicked, we want to get all the currencies. We could simply import them like so `import currencies from './currencies.js'`. Now within the function, let's log `currencies`.

If you do that, and refresh the page while the network tab is open, you will see all of the script modules that are being loaded.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1422px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:41.333333333333336%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVUlEQVQY0y2Q3XqrIBBF8/6P18YmRkVQHBhQhFh+Bm/Ose26nvXN3vvW9cMspbV2/8F7rzU+nq3Suh+YMfbVdQDAxYRo1nWb5pmLiXHxarub1tj1w6IUEeWciciHsCxLjImx0TnHudg2R0Tf35FzgWgAlNxcLPmSn+3LGFtr/ZO9n6VMKXX9sK5b8/WQcqm1xhj7flBaK1BiMz7Fm7VmuGDTLLXWRHQch7E2pSTEBEo9ni2AcvuOxlhrj+MApcPxpko3jYhoSik551IKEYXwRsQY48DYtrnPz0bKhei60BpBwbqtMcZSyiUPbPwNXEqptYYQFoCc8sjFvu/3ppFSnueZc+ZCrOsKoI7jqLXeELF9dQDXYER0ntX7cHXOmbFxd/vH/fr8K3f9YIxdFviTrV3HkfcD8z6UH7wPACrGKMTknLvfGyEmopJSmmeJaLTG8H7/j/0PrJa4+/atxUQAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/65d4b19f4a9f867200e680c6bc16ac9f/2a08f/1231.png" title="network tab requests to load the data" alt="network tab requests to load the data" class="gatsby-resp-image-image" /> </span>

If you comment out that import statement and refresh the HTML page, you will see currencies is no longer in the network tab.

### <span class="grit"><a href="#async" class="hash-anchor before"></a>async</span>

How do we on-demand load some data or some functionality from a module? We can make it `async`.

    export async function handleButtonClick(event) {
      const currencies = await import("./currencies.js");
      console.log(currencies);
    }

When the page refreshes, you will see that `currencies.js` is no longer loaded in the network tab until you click the button.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1466px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:86.4%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC+ElEQVQ4y2WQ2W4cRRiFi3fgLZAibskzILhBcMVN7ADhMZAAiSdAQkpAToKDyNgRNywxjrASbpA9E9sz4xn3XtVLrV29VlUvRt3jSCgcHZXO+Uq/VH+B6Qf3Tz5+tPzo4Ref77/9zeHNLw/e+erPwV+/5sP/kQNw490f3np/58Z7O29+uAu2J29sTcDGtx6DrcfDeetVHcjkum6Nt+DOHrjzBHy2Dz59Arb3Bt/eA9sTcHv/On+yqXsj2YSRbE/AzuH5g2fzn1+s7v52/OCv5Y9HF98fvHz0Yn3v6Wz3+eq730+//XX68Gh194/pvaezDd95dr77fPXT35egmP7DoSu4JFFUp0TECEM3ozENfRoGgeuFEIkkkjhUkpWC8ATVkvWq6OscOCtbpFKWqhhc5UUZwHC+XC0u1vPlKkmwSCWlnDLB04wwQZlgQjIuGU/BL0cLiMIkjoMAQhgGEFmWHQTQdX3fDzzfX60t34cIoTzPpcykzEblWZaDhGXGGFHkjHOlVNu2TdMwxsuy6rqubbs0lVLKrmu7rivLkgvRtq0xJs9zoI3u+65sdH911ff91Sv9J77Gh2yMqaoKFEXZmKZtWq2N1sYYswlK6VFGa62GYja65kNswNn5PIoSyjijnDEuuIAQLRYXECLH8eI4OZ8vIUSW7VDKCKGW7XgBPDubu64HIISL5YUfBEqpqqq01hiTMIqEEJZlE0KOT6aCC2M0xtiynSiK1h5ieaXqGoRhdGlZhBCtdV3Xw29xjjHOstzzfELodPZSStk0DaXM9wOCSRjHSZEZbUAURZZl244LEUoSbIxJU8m5yPPccVwI0Wx2KoSglCUYy1QyxuI4qfWwOkBhSAhRStWjtDZCpITQLMsc16OUTWenaSqN1kVRIBQmCZZSDn+oFIAwXF/a5bCtqWtljCGURnE8DruE0uOTKWd882zX8zGhYRipcRokCXY9P8G4aRpjTNd1aZpSyqqqQihMUzlfLLMs6/teShlAJGVGKWtG/Qs1NkvaiNbxbgAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/e9a6d1d649db67a68d1c163776d4b678/e2d3b/1232.png" title="all filter in the network tab" alt="all filter in the network tab" class="gatsby-resp-image-image" /> </span>

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1396px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:95.73333333333333%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQklEQVQ4y2WS224cRRCG+7UQ3HDFEyRC5MprYq+A1zGgOLFM7tdR8grxSQ4gBbPe3ZnZOfX0+TjHnp3Z9aBdE+GIT79KVb+quqVSAfF8on56Zw/PLn88e3J0/uTo/dOj909/3urbXy++e3H1SdeP9FBegWdf/PLsq+O9L1988/UJGE3A6OyRJp+cyf+0M8H4DIzfgcO3YPwW7J+BvQnYf/Pv8Db5vNx/81/D3gQcnFwfvLr64fTm4Phi/9Xl+PXvo5eXh6c3359c77+8HP/2YXR8fnByfXh6Mzo+Hx1fjF9/GL28eL5zgJpNaRRYrdIkYSgptUgCz3CiKKIwpoT8dTuLk4zjjMJYkqwyEsXLXHJXGMD++JMkCTMVlqXNc21shpAfLP0gnHvBwg8QpkwomCEhlTKGUIYwkUprY8HUD4RSVVEWRa6NsTZnnEVx7Hm+5/kQZpxzTAhnQmud7yiLLdZasAwCKRVMszhOuBCMcc/3KaXWWilVkqQQZowLhHAKYV3XbdsaY4UQTdOA2rXrzabIq1W3Gu6HYRi6rlutVsMwbDYb59y67x/ypmn69fqhoa7rzWYDuq5rV11uy2EY7u9305/z2NxsNo99ADNkjM1tUdd1VVZbypJxro1RSuV5LqUUUmqjpZRN09R1zYXIraWUAs/zwyjCGCut7Q5jzHy+oJQGwZIQEoaR5223gDEWQiCEoihaRonvL0Ga0Zkf+WGmi8aUThdO2coPocnrIIYpFjMv+vj33JRt6dZxxrwQIqqmISYsBxDh6Wwx94IME0QYZRIhOp0tMGGzubfww9vp7OPtVJm8rFwMUZRAjNk0SAjVgFKWwixJ0hRChHFVVavVinO+altKKcFkGYbBclkUBedcSlkUhdaaEMa4AQgTCFFZVn2/3m6+7ZxrM4Rd4+IkZYyHUTybLxrnur43JodZxoUQQkquAKHUD5bG2K7rnHNtu3LOJQncPgGREDKMoun0rmmarusoZRlCSqk0zaQwgBDi+0EUxVVV9X2/+7yNk8S5Nk0h5yKKk7u7uXNt368JoXGSaq0hzLSygDEOM7QMQ6lU27bOubppMCYPcXehcDZfVFXVtq1SCmOsjUGISK7/Acy8rkH+KJbVAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/bf308d790b13d2bc8036fec71c4ad967/58354/1233.png" title="loaded script.js in network tab" alt="loaded script.js in network tab" class="gatsby-resp-image-image" /> </span>

That request was only made after we clicked the button. Now we have the module logged in the console.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:936px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:32.800000000000004%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABG0lEQVQY033MyW7CMAAE0Pz/54EqoAqNiRPs2PES77srkFr11Kc5zGVmAABcLxeMMZzhAhfnnFJK/9j3nXN+Pp+W9QmxvI7TbZrHxzo/t89xGowx432cwCQPiRB6gAeldFkWOENKKcYYI0QIWSBcMRGEoY8buT82uI6rGVprfOf309c2EQQQZZRzzhizzoYQfPAxBuus0trH0FvNhyxKlei1y0PvveYqZskA15tWRHMkgg5BBn94y5whJoakIDQAKIxSzv2tljy03rTUx1NZZuV6KHQczDCmxS5KLNGlaGMppYQQD1m877X21nrvKb/Hkgm1acsdn4WhWnKzcy0E7//KOQ8x11pKya/3HHNJ5VdrrdV3XqW+8kdK6RvvqY0Cg3I3MgAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/df84a51ea605a3fabd0ab1b0b9e9af61/6d2da/1234.png" title="loaded module log in console tab" alt="loaded module log in console tab" class="gatsby-resp-image-image" /> </span>

If we want to access the currencies we need to get the default. Let's refactor the import slightly to rename the variable.

    export async function handleButtonClick(event) {
      const currenciesModule = await import("./currencies.js");
      console.log(currenciesModule.default);
    }

When the page refreshes, you should see and have access to the currencies in the console.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:54.93333333333334%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVQoz43QwZKDIAyA4b7/+3VaXakFBLVWIAmKlSo7uju7t47/IbcvM8npNb0QIXganQuII+E2vTe9s0/rtunQgCdPAAGgkVJxXtc1Ip5inFvGTXGzl7Nj7MGYza6W36HWoal9b9DAGsYQwhRCRAwAE5H3fp7nU0rJaujuCgVHKUGIse+XZUl7a/rUL7ZVCzfmOUch3u/3BxBj/Fu9YddgL7TNrliWpNTyEa97/9go15WV+8psnoNScRhew5AOtGNpu5uEkkHBoLyPz2605ii2GvqqISlov3kiWub5KIYGnX5A8UVSkpST9+lYO27JVK3Lrq4otrdJsR7HTsOTa3M5uzxHpX5eegR/A8pVe9oRf3JIAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/38ae84ea0ddd48f288c24e6214e8f4c6/aa440/1235.png" title="currencies in console" alt="currencies in console" class="gatsby-resp-image-image" /> </span>

It does cache it, so if someone were to click the button again, the currencies would be loaded instantly instead of needing to be fetched again.

Let's say `currencies.js` had another export, such as `export const localCurrency = 'CAD'`.

How would we also import that on demand?

If you refresh the HTML page, you will see that we do have the `localCurrency` in the `module`.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:906px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:47.733333333333334%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXElEQVQoz32QW2/bMAxG8///WV+HFkXj1InLOnEkWaaom6mbhyQdtgHrzgNBEPhwSO5KKSXnnHK6k3Nm5pzzY/yg1hpC6I/HQ9cBgFJqBEDEHSL+eH49Dad5VgAwDIOSEgCOfW+MAQApxTiO3X7/AaCGAZ6exMsLdN3KabcyH05odYgUmRkNWmdjjG3bWmu11Frrw99a2x7cm1LKrm1Nn+frmzw/X/Bq+v3x/e1dL5px4RC277mFt21bHcteiYPEEVU/a8BAfn7t6CrZpxQ4cfJSrlpHY+ov/5fZzoSjoYnoahdY3BJQWqs9u0wT+dnHuNI4OgArxF/hUoscVdCRrtacDQlDFIVCa83tuv+vXWtdxBJ0cLM3FyJBFr0WxpFlLrfP3VW32trvn32FWxGfwinvF798Il3ISYeAZiYxu2ma/gz8wxxdTCFx4GhitCuHdGt89DF579s35Jx/Ag65PRJjR6AhAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/433d645cebf027f22c238d1956123f74/6029f/1236.png" title="loadCurrency module in coonsole" alt="loadCurrency module in coonsole" class="gatsby-resp-image-image" /> </span>

Let's destructure them into their own variables with curly brackets like so 👇

    const { localCurrency, default } = await import('./currencies.js');
    console.log(localCurrency, default);

However if you try to do that, you will see the editor yelling at us that `default` is a reserved keyword, which means you cannot use it as a variable name.

To fix that, we need to rename it like so 👇

    const { localCurrency, default: currency } = await import("./currencies.js");
    console.log(localCurrency, currency);

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:884px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:23.466666666666665%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/78-modules/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+ElEQVQY042O7W6CQBQFff9XM21BRKDYglZB2GXZ5VNAnQZM0/RfbzI5OcnJ5K6SJKFr24W273/pur/9h3nXtsSnnCS9kGcZqlBIKVFKsQrCPWmWM4wjQ1ky6PKZxiw5VhWT1kxz15oHIJTiPQz5Op85pymFegqbpmGlLxkfLy8UcUTp+0jHoXBd5Mx2izke2FsWR89DhyGZ6xLZNkUUMemSqxBMTYssiqfwcjrRpCni7ZXC3aECH+V5CNtGbjZ0dc0uCPiMY7jd6GeBMcvnV2MWxr6nqiqGYWB1rQzCccjXa4RlUx2OSMui9D1qkZMLQVPXPO53/nPf8VV4zBbai2AAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/295523f9e4642dc4e6732b4943de6487/136a2/1237.png" title="destructuring an import result in console" alt="destructuring an import result in console" class="gatsby-resp-image-image" /> </span>

When destructuring a property like `default` that is not allowed to be named `default`, we can use destructuring renaming syntax that looks like this: `default: currency`.

Find an issue with this post? Think you could clarify, update or add something?

All my posts are available to edit on Github. Any fix, little or small, is appreciated!

[Edit on Github](https://github.com/wesbos/wesbos/tree/master/src/javascript/14-es-modules-and-structuring-larger-apps/78-modules/78-modules.mdx)

[**← Prev**](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/)

Currency Converter

[**Next →**](https://wesbos.com/javascript/14-es-modules-and-structuring-larger-apps/79-currency-module-refactor/)

Currency Module Refactor

### <span class="highlight">Syntax Podcast</span>

Hold on — I'm grabbin' the last one.
