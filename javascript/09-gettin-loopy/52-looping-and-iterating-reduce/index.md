








-   <a href="https://wesbos.com/javascript/09-gettin-loopy/49-looping-and-iterating-array-foreach" class="currentModule">Looping and Iterating - Array forEach<span class="videoNumber">Part 49</span></a>
-   <a href="https://wesbos.com/javascript/09-gettin-loopy/50-looping-and-iterating-mapping" class="currentModule">Looping and Iterating - Mapping<span class="videoNumber">Part 50</span></a>
-   <a href="https://wesbos.com/javascript/09-gettin-loopy/51-looping-and-iterating-filter-find-and-higher-order-functions" class="currentModule">Looping and Iterating - Filter, Find and Higher-Order Functions<span class="videoNumber">Part 51</span></a>
-   <a href="https://wesbos.com/javascript/09-gettin-loopy/52-looping-and-iterating-reduce" class="currentModule currentPage currentSection">Looping and Iterating - Reduce<span class="videoNumber">Part 52</span></a>
-   <a href="https://wesbos.com/javascript/09-gettin-loopy/53-looping-and-iterating-reduce-exercise" class="currentModule">Looping and Iterating - Reduce Exercise<span class="videoNumber">Part 53</span></a>
    1.  <a href="https://wesbos.com/javascript/09-gettin-loopy/53-looping-and-iterating-reduce-exercise/#regular-expression" class="currentModule">Regular Expression</a>
-   <a href="https://wesbos.com/javascript/09-gettin-loopy/54-looping-and-iterating-for-for-in-for-off-and-while-loops" class="currentModule">Looping and Iterating - for, for in, for of, and while Loops<span class="videoNumber">Part 54</span></a>
    1.  <a href="https://wesbos.com/javascript/09-gettin-loopy/54-looping-and-iterating-for-for-in-for-off-and-while-loops/#the-for-loop" class="currentModule">The for loop</a>
    2.  <a href="https://wesbos.com/javascript/09-gettin-loopy/54-looping-and-iterating-for-for-in-for-off-and-while-loops/#for-of-loop" class="currentModule">for of Loop</a>
    3.  <a href="https://wesbos.com/javascript/09-gettin-loopy/54-looping-and-iterating-for-for-in-for-off-and-while-loops/#for-in-loop" class="currentModule">for in loop</a>
    4.  <a href="https://wesbos.com/javascript/09-gettin-loopy/54-looping-and-iterating-for-for-in-for-off-and-while-loops/#while-and-do-while-loops" class="currentModule">while and do while loops</a>



##### <span class="grit">Module 13 - Ajax and Fetching Data</span>

-   [AJAX and APIs<span class="videoNumber">Part 74</span>](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis)
    1.  [What is an API?](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis/#what-is-an-api)
    2.  [JSON](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis/#json)
    3.  [AJAX](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis/#ajax)
    4.  [Public API list](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis/#public-api-list)
-   [CORS and Recipes<span class="videoNumber">Part 75</span>](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes)
    1.  [Query Parameters](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#query-parameters)
    2.  [CORS](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#cors)
        -   [What is CORS?](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#what-is-cors)
        -   [CORS policy](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#cors-policy)
    3.  [Babel](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#babel)
    4.  [Browserlist](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#browserlist)
    5.  [Proxy](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#proxy)
-   [Dad Jokes<span class="videoNumber">Part 76</span>](https://wesbos.com/javascript/13-ajax-and-fetching-data/76-dad-jokes)
    1.  [Headers](https://wesbos.com/javascript/13-ajax-and-fetching-data/76-dad-jokes/#headers)
    2.  [Getting a Random Index](https://wesbos.com/javascript/13-ajax-and-fetching-data/76-dad-jokes/#getting-a-random-index)
    3.  [Loading State & CSS Loader](https://wesbos.com/javascript/13-ajax-and-fetching-data/76-dad-jokes/#loading-state--css-loader)
-   [Currency Converter<span class="videoNumber">Part 77</span>](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter)
    1.  [Caching the Rates](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#caching-the-rates)
    2.  [Converting](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#converting)
    3.  [Hooking Up The UI](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#hooking-up-the-ui)
        -   [Input Event on a Form](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#input-event-on-a-form)
        -   [Wiring up Handlers](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#wiring-up-handlers)
        -   [Formatting Currency using Number Format API](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#formatting-currency-using-number-format-api)

##### <span class="grit">Module 14 - ES Modules and Structuring Larger Apps</span>
##### <span class="grit">Module 15 - Final Round of Exercises</span>


<span class="grit">Looping and Iterating - Reduce</span>
========================================================


JavaScript, Iterating, ReduceEdit Post

Let's add a `console.clear()` to the bottom of the script section in the HTML page we have been using for the last few examples.

So far we have covered `.map()`, where you take in items and return transformed items, and `.filter()` where you take in items and return a subset of those items.

`.reduce()` is probably one of the trickier array methods to understand because it does so much and there are a couple of different use cases for it.

So what does it do?

It takes in an array of data (just like `map` and `filter`) and it will return to you a result of or a single value.

Now what does that exactly mean?

Let's do an example to demonstrate.

    const orderTotals = [342, 1002, 523, 34, 634, 854, 1644, 2222];

We want to take the `ordersTotal` array and add up all the numbers in the array.

One way you could approach it is to set a let variable to 0 and then use a `forEach()` to loop over each item and add to the total.

    let total = 0;

    orderTotals.forEach(singleTotal => {
      total = total + singleTotal;
    })

    console.log(total);

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:382px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:33.06666666666666%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/09-gettin-loopy/52-looping-and-iterating-reduce/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABP0lEQVQoz42Ny27bMBBF9clZdNV91vmXokm33RRFg6INUBiwRQupKYkSadGWH5QoS8opyDYJ0FUIHNy5c2eGyel04nw+471/Ifi+7+m6LvphGKJ3zsVe2HmeDT7kQcNeYowhy7KIEGuklAghyLJ1HKiqisViwWazYRpHtNYUeU66WiFESp5LRJqyWi6Z55kk/GZMFdFaUZQltTYUqsL1nlJVrLNHSlXTDxfMtsHu9si84HEj2dpdrEulmMLBVHl+rD0P2cDP7EJuJ8xhpG4vVDuPPoxsjxO6HVG2j/16P8QZc5yiD7U+XFCNI/n4xfLuRvL+RnJ1nfH5vqF1HtN6Knv+S/NPrXvV5rnvXvLaOpKH346770duvx348LVlKTvK5sgvUaDbAWU71K5/Mwk88f+z+5bbu08xmeanyPxG/gBIFg4u8dLbqQAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/1f149480888aeb40ed39c04780d79cc4/77edc/670.png" title="add up all the numbers in the ordersTotal array" alt="add up all the numbers in the ordersTotal array" class="gatsby-resp-image-image" /> </span>

As you can see, that does work. However, is that the best way to add up a bunch of things?

No, it is not.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1046px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:35.2%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/09-gettin-loopy/52-looping-and-iterating-reduce/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABtUlEQVQoz02S3WvTcBSGA3ozBrVtmjTd1nYMZUiafvyaph9Js9C0tXZrt7XJbDevhKEFQRDEG8FLvVQG6oWwORXchX/jI9FZvXg4HF7Oy+E9R0qXPPLCZq3YZr26R84akS73yBZd8pUesuGRMjyUQhtVr6PojSVRr/6thRZKcQdJNdq4Iwt/2sALewxO7uMcdNgSDndrHhvCIVuukzGHyM6ClPN4iew8Id48Jd5ckDCPibykZGXE8DTg0asZ8+f7nLzYJ3wWcLtzRMn3Ef17VHyP7d0F6flPsg+vSM9+oM2vSIXfiQ3ekhicEbNfoho20s3uGTe671Emn8nOL4iPP7HSf4d2dM767JLY7kdWhx/IPPhC7vgSLbxAC85Jh19Z8d8gF/5EohZ3UAwXSep9oxS+Zss5IFEJSVan3BJTkmaIbE5JiEOS1QmKFaDVA5TaFKU2QbUCZDFGNdx/RBmuNp5SHs6547hopseacNksN8iLJjmzQ77mk6u2UaLQ9RZKwb6mhWo4vw+xJNpQMxpkWl3yvTGb3T027AGG1US4NrofoHcCttt9om+IhtT/Da5N1KK71H4B1v7qZg7RSN4AAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/2258f87530528276f920cd6a12b27c0c/1c1a4/671.png" title="incorrect way of adding up all the numbers" alt="incorrect way of adding up all the numbers" class="gatsby-resp-image-image" /> </span>

We have the callback method within the `forEach`, which relies on an external variable being made. So we have sort of reached outside of it. That is what is referred to as a **side effect** which is where you update a variable that exists outside of the function.

`.reduce()` will allow us to loop over every single item in that array, and in this case it would allow us to do a running total with those numbers.

Here are some visualizations that Wes has pulled from online by google image searching "map filter reduce".

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:904px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:62.133333333333326%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/09-gettin-loopy/52-looping-and-iterating-reduce/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7ElEQVQoz32T+6qbQBCH8xiFFqOua9S9X4zRqE1CwiH0wqEttND3f45fcfUk50b/GIbV8WPm23GVZiXqZoR2e4zjGUN/gFMatXG4HI5o6j2G0cDWOxSlga8HuHrAplCguQDNJfKNBM05NqXCKlpTuLpH0x7xeO7ROI/rYHEaT+iaBl094OE0QtotytLAuj2M7QIko/xNrNZxDiG3EMLjWy+hGcfvvkBZStSSo5VbfN1fQHIJSjlSUoFk1dLd21hFMQ1FacYQJQwJYfiwFiBU4FMi5udpBZJzxKQKUJKx+ZtXkVE2d2j9HtrswHUH61p87zk05/j5mYNzA680Wr3Dl/GCbCOhdAO/HYNL4/bQtoP1PRh3M9D5PkCvhw5N3eHPwwmaa5xthaLU0FzCcY/R9yiYhVDbUD8BJ9gTsGILUKg6ePx7ZFCVxONwBRMeUcqCaDK5owxJVs3n/408OXwqiOIpM3yMqwBZE7EAeHAZkztwincvZepQmd3NhfMdfh0MDBf4ERxaWKnQmcVhoaD0DtbdV+fNLSvTYtuMaJoe2rbovYQoBS6mQlEoGCHgRY3B99hUJtRo074A3vYwSTcBaMS8d+ukQkxmb9Eycvpq5LuzpTv6rMOEUDChgtDs9oIjy/mLPIdYznN+70/5B1gbbf0v6BldAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/1f33ecde6cb22cad65abe85835ff319d/d9217/672.png" title="visualizations pulled from google image search using map filter reduce keyword" alt="visualizations pulled from google image search using map filter reduce keyword" class="gatsby-resp-image-image" /> </span>

In the image above, the language is not JavaScript but it doesn't matter because each language has some version of map, filter and reduce.

The `map` function in the image above takes in raw materials of cow, potato, chicken and corn and that returns the cooked materials via the cook function.

The filter will return to you a subset of the original array of what is vegetarian.

`.reduce()` will take in an array of food and return to you something that is compiled into a smaller version of it.

If you think about making a reduction when you're cooking or making a soup, what you do is you add a whole bunch of stuff to it and then you let it simmer and sort of become one. It is typically reduced down to something that is smaller than the original value that it came from.

Now we will go through a bunch of use cases for `.reduce()`.

Make a new variable called `allOrders`. We will call `.reduce()` on our `orderTotals` array.

    const allOrders = orderTotals.reduce();

We need a callback function that will be run on each item in the array, which we will call `tallyNumbers`.

It will take in 2 arguments because that is what the callback function of a reduce method takes.

Let's look that up in the MDN docs.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:64.8%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/09-gettin-loopy/52-looping-and-iterating-reduce/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVQoz3WR626jMBCFef8X6q+mrZK8RDYhgZQAAQJmbDM3m4pku4p2u5+OrNGRjmfGTs7n82G/z/I8y7Jjmh4O6el4zPN8t9ulafprv2+apnuifSLZ7XYfHx+rt7fX19Vms3l/f395edlut6s76/W6qqq6rqs7dV1fn0iIxSLDRKNHf68dEmnQGDlEFHUT+mkaAYwxiBhjDHdENfETFnVTtbfe+sFNZiJiGYah6zrzjbXWLTxO56z1zsUYE2a+dh0AiLAIqwgiHk+n8j5lWdVN244ASEy8CJkftYaQMMtne0MiEVksVbButd6ePi9pfs6KMs0vx3Nh3LSs9iSYaAkXTWfAEhHz0nxi/mzNAA4s3HqorgMRW2sRcfTokC0SeAohJqJadn03gkf8HSY+FdU4DH3fwziic2Ctqs7/kCzvxhxU5xgfFolm5RXG0ZjRAtCEiBhC+CEM1mXFJb9UA9iHhSzHohrNMNx6MAad896LyA9hZPHE8zyH787IUt6MhkCqrEFC1BA5BNa/lZBI1S+/++c+1bA/HE5ZTqISg+hd4QclcZ5hwsE5EtEQ4jyHEMv6Wjdt/J7lf3wB9cPjuH5tMwYAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/f732f4ded9895a754c9e2bdecf497120/aa440/673.png" title="mozilla developer network (mdn) for the array reduce method" alt="mozilla developer network (mdn) for the array reduce method" class="gatsby-resp-image-image" /> </span>

The 2 parameters it takes is the **accumulator** and the current value.

The **accumulator** is the thing that has been handed to you from the last instance of the loop. The `currentValue` parameter is the current item in the array.

We will name our parameters `tally` and `currentTotal`.

Inside of the function, add a log of the current tally and current total, like so 👇

    function tallyNumbers(tally, currentTotal) {
      console.log(`The current tally is ${tally}`);
      console.log(`The current total is ${currentTotal}`);
      console.log('--------');
    }

    const allOrders = ordersTotal.reduce(tallyNumbers);
    console.log(allOrders);

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1156px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:103.73333333333335%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC2klEQVQ4y32U2bKkKhBF6/9/8NSpUmQSRVGUGZw6kK7q+3T3A5FGmLIyc6cPCCEAgDFGKV3XVSlVznme27atqnpd12maruuy1r5er7quawC6rhNCPLwPwzBMt6SUwzCs65pSOo7DB9+2bd/3GGNCCSEEY0wpbVtGKdFaP0IItG17zv+etO26DiLknEsplbcBAA1sIGwAABAhQgiEMCenlIQQ+d55VlovclFKsb7TWqeUCCGMsaZpEEIY46Zpyuf+Jm/blovUylgTQnDOxRjP87yuK4RQXq3rGt4qAUboXb2XZck1P39f76qCCGlj1nU11u7HcV3Xvu+lect/9G1qSiljj0LM8yymaVFqltIY0/c8xrRtG+dcCNF1Hb/FGPsG1toPtlJaax+C9z6ltO97wYYQEkKqqgK33u93qb+qqowdYoQIIoxbxrQ2y7JYa48be9s2cUNxzodhGMcxB+M4TdMwDN77h/e+gYjk8TF1Y2tjpJTneW7bNs/zsizTR+M4zvMspRRC5OR9340xWmtrbQjBOhdu+Ou6vPdlql/sqqoKdl1n52WTQIxJ27aMrfnmRRtTsGOMjLHiMHqrBIwxjHFumA+hQQgTetespVyMsfM8b9t2HIcxxlpb2qm1LkEhjTE+0pbKs7HWe1/gl2Xd9z2EgDCiLa3BbRIEQTEJ/mDHFIdxFJOY5skYo5R2zh8fh2XIrrsTskpQ7KmUyt3OBgMAY2ysWZWyt87z/B9spVR22LZtxXRSLnkx7jn3nKdblNKu72H2ASaEfBcDIaS0esQY+TCMImNba7PPvC/d9t6jMqq6BnkdQV3XeVQYAwByzT74Kq8ropQaY5Z1tdbGmH8GX+dKKT90/4IY4iOm1Pd8vKXyqKRzjg/cGLPvO+d8FGOedtd1fd8ylpdkGLquc849rLVSymmalFLOudIVdbdNSvl+vwEAP8/n7+/v6/X6+clBVVXP55Nz/getG4zJTJTzlwAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/3814e572e6f518a4f8786df313213613/9937c/674.png" title="tallyNumbers function showing current tally and current total" alt="tallyNumbers function showing current tally and current total" class="gatsby-resp-image-image" /> </span>

Now there might be some stuff in the console does not make sense, so let's go through it together.

The first time the loop runs, the current tally is 342 and the current total is 1002.

The second time the loop runs, we get the current tally is `undefined` and the current value is 523. In fact every time other than the first instance of the loop, `tally` is undefined.

That is because `reduce()` takes in another argument which is what do you want to start the accumulator at.

In our case we want to start counting at 0 so we pass in 0 like so 👇

    const allOrders = orderTotals.reduce(tallyNumbers, 0);

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1134px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:46.4%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/09-gettin-loopy/52-looping-and-iterating-reduce/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVQozz2S2Y6jQAxF+f/P61aYhFqolaX2FYIgYSa0ps+DdV9sHdluSilKKWutddZ7r7XOKb2O4zzPWooQYhxHQokQgnNGSC+lkFJQSrdta/hoAZFdL68qQM8Bmb6wSssx6tB2+AHpdwtuD3y7o6/b40+H267/bjvtcmN8HmY3KKds0j5rl7SvnQyp7somgBmi8g4IQKxDtH0ggBnA7HZHxpem1mKt0cbEmGopOedt286LUgqjdBgkxphSSghBCHHGfvzXdW2MtQCiDkCldCk1xLiua12W4zj2fS+l1FpzzuUipfQbjmNvcinaaKV0CDGmFEKstXIhn89nrZVxLoeBUso5p5T2fS8uCCHLsjTLsngfnPfp//hf7ZQSIZ89Qwj7CwAgpZRRBiH8NDvvIcIAIq1NKTVe2u/3+zzPbdtC8DFG51wI3nt/hQ/OuX3fmxDiNM3jNBljnXPG2pjirNTr9VrX9ecFpmlSSs3zPAyjvhjH6d+d/wIcY++Q/+MzQAAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/e7f73e8d70740c888ea4dbabb08a57fd/75a80/675.png" title="passing a second argument to reduce method to specify our start counter" alt="passing a second argument to reduce method to specify our start counter" class="gatsby-resp-image-image" /> </span>

So as you can see, in the first loop the `tally` is 0 and then in the rest it is `undefined`.

Now that we got the loop working, we have this problem where everything after the first loop is returning `undefined` for the tally.

That is because of the accumulator parameter, `tally`, that is passed from the previous iteration of the loop.

If we were to just return `'WES IS COOL';` from each of the iteration in our loop, the accumulator is going to be equal to that on the next iteration.

Modify the `tallyNumbers` function by adding `return 'WES IS COOL'` as shown below.

    function tallyNumbers(tally, currentTotal) {
      console.log(`The current tally is ${tally}`);
      console.log(`The current total is ${currentTotal}`);
      console.log("----------");
      return "WES IS COOL";
    }

    const allOrders = orderTotals.reduce(tallyNumbers, 0);

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1124px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:83.73333333333332%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACkElEQVQ4yz1T266jOBDM///aSjtzdqKZcPUNhwC+tG0wxhCysjm79WAhi+quri7f+tcglR6FkAqu7xD3uB9+DZR1/NljTBEmjPGmRRhTxjgmlD/7bT9uvwpcoOfXAxXoeS/JA/W/mtdoQq+Wr9/NvcQ/7tXf9/Ln7/qvrz8/7vU/D/Qz3RNht9swjlJKIaVUapqmZVmklDHG43hzzvtXTymlhHaMYYQopZxzxljf95/P5wYAWoNzzhhjrd22aJ1bliWEQAjhnDcZhJCyrJqmoZS0bUsISeSqbrz3WsM8L2DMPM9pejAhBJ0AUgohhMq6pJRaKykkgE5kzrl1TiltrJVSrWEdhlFr+Hw+UimttcxspdSYB1RK5RKZ7OZZQ2obY1zXNcbo/Rrjvu87xrjrujoDY1yWZV3XhOCmaTDGiYwJMdYKKcEYpZSb52EchZTe+1dGl/F8PimlXdf1fc85f71eidy27bwsGoxzTmu9pPl1COH9frvsnLXWGnM56pyb5/k6z/O8gQENAMZ47511IQTn3L7vx3Fkt7u2bRFChJCqqlDbUkoRQozR1HkcJwCjAXITl53XVy3GWNd1LULXbuq6RnnVGONv8p9H4b0HMG521tosOxWKMV7ysuoUAQCw1rqMZVmS7EkIrfUkBBiYhLBuBoDzPI/j6Pt+GIb/DOsJ+TbsOlPnyxLv/b7vYduO41gTwrZtjDHOOcqyKf2WzRi7LEjkoiytdVJJa62GlFORtMC6BpVDMo7TOI5CiGEYpmlSSqUfIKXo1vHnPM9ap3mU1suyCCm3bTvPU6clpOUrnRZy5QwAlJRwJSxZrXV6EiF477cYF++P473v+2VyVVVF8WiapigedV1hjP9/GP8CeZmsSPlEFHIAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/c8f39738d020499014e8d0bdbe482531/11b93/676.png" title="detailed console ouput for the tallyNumbers function for visualization" alt="detailed console ouput for the tallyNumbers function for visualization" class="gatsby-resp-image-image" /> </span>

As you can see, the first time the loop runs, `tally` is 0 because we started with an accumulator of 0 and then for all the next instances, our accumulator `tally` is equal to "WES IS COOL" because whatever you return from this function is what the accumulator is equal to.

So what we really want to do is return the current tally + the current order's total.

    function tallyNumbers(tally, currentTotal) {
      console.log(`The current tally is ${tally}`);
      console.log(`The current total is ${currentTotal}`);
      console.log("----------");
      return tally + currentTotal;
    }

    const allOrders = orderTotals.reduce(tallyNumbers, 0);

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:496px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:96.53333333333333%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/09-gettin-loopy/52-looping-and-iterating-reduce/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACTUlEQVQ4y32U2bKjMAxE8//feCcJZgez71mupo4SMSQPkyoXxhUO3WqJU9/3kue5VFUtRVlKVVWSZpnUdS3zPMvz+ZRlWSSKIknTVIIg0BWGoVyvV4njWPessizl1PW9AvKikDhJJctziZNEgYFzcr/f5Xa7SRiFkmXZB/B8PivQOadLgdu2CSqHYZB5XvThZVn1yv3j8RD+kySJAnkQGIoBc86es6Io5ARIrda1eF9J23Xiq0rGcZSy9ApmoQTLBjxaNqAqBIhdIID9u4b9MIhzobRtp7ZRQq0NBsgUGtR7LyfeDhTAuq4aAjZtcX+0bEAAqD0CVWHbtpJluSrjWhSlhsJ5EDi9msL/1ZC91pCWINGmaXR1XS913WgNu65ThVZDA7o3kBoCNNW+9HIiyaZt9eFhHNUeL0EVZWAPMHqHgpKXykgul8veh5ypQlJN0lT9J+8+JAxUcjWgpWxqWEfLew0JAoXUapom2bZXH6IUlfwslO+Uj6GwFDiOkwZC/VCF9bppdOxoHybpu20AfbfN3oevWS60qbFLL+roNY2EUfSvhlGkDxOE1ZEaWvtwrjXEDomysE/voYgroOfvU27bpvUzhUBMIeemUIEopPf42tjEpFmuVqMo1jnnBTyUa2Bur6G1zcfoocysAuves9z3g5TeKwwXx5QN+j16e8r2tZmmWW0CeNzvMi+L7jkzy9YiZpNzoCydZetDGzn2fAeZnp+fP/rFQSUQJsVCAWahmFpVSIqtTYp+E2edmHXd9N4Ufoyec/vomV2blL9Yr5HGZQ4rWwAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/b7abf6b03c7b8897e70a132fb0831613/bb630/677.png" title="console showing the sum of numbers upto the current step and current step value" alt="console showing the sum of numbers upto the current step and current step value" class="gatsby-resp-image-image" /> </span>

In the console above, as you can see we start with 0 because our accumulator starts at 0 as shown in the highlighted code in the image below.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1141px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:9.333333333333334%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/09-gettin-loopy/52-looping-and-iterating-reduce/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjUlEQVQI1x2OQQqCQAAA+0aQphaZGuFBIo21WlfJzLYoNX/RredPsLeZw8BM3FRhpQ2L/IknHsyzlmlS4Rzuxj2hDdv7Gi9TuFmJKxqcXOMdNW6u8WWLffkyy1omQS5NFJYDUflhdX5h7SoC1ROqgXXR4cuepWjYSsnmVBApTag64utIXI8ktzd++zMDf/jARAM8OlEOAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/9cdca555875ebff612fc36952b3535fb/cd1d6/678.png" title="accumulator start from 0 as we are passing 0 as starting counter" alt="accumulator start from 0 as we are passing 0 as starting counter" class="gatsby-resp-image-image" /> </span>

If we were to not pass an accumulator, the first loop iteration will take the first two numbers. In our case, that would still work but Wes always like to pass a default value so we know what we are starting with and so we can see what type we are starting with.

So we start with 0, then the `currentTotal` is 342. Then in the next iteration, because we have returned 342 from the previous iteration, we are going to start with that as `tally` variable in the next iteration. We add the current value and return the `tally` variable to the next iteration and so on.

A reduce will loop over items in an array and every single time that you loop over an item in an array, you have an option to return a value which you can use to accumulate values or distill them down into one value.

Now, if we want to total the numbers, we already have them in the `allOrders` variable so we can simply log that variable to the console which should return to us 7255.

For the next example, let's look at the `inventory` variable.

    const inventory = [
      { type: "shirt", price: 4000 },
      { type: "pants", price: 4532 },
      { type: "socks", price: 234 },
      { type: "shirt", price: 2343 },
      { type: "pants", price: 2343 },
      { type: "socks", price: 542 },
      { type: "pants", price: 123 },
    ];

It is an array of objects and each object has a `type` and a `price` property on it.

In this exercise, we need to figure out how many instances there are with type of pants, how many are pants, and how many are socks.

We also want to figure out what is the total value of all of the inventory that we have.

You could probably figure out how to calculate the total value form the last exercise, but the other part where we need to count how many instances of something there are, happens all the time in JavaScript.

Let's add some code.

Make a function called `inventoryReducer` which we will pass to `.reduce()` when we call it.

    function inventoryReducer() {

    }

    const inventoryCounts = inventory.reduce(inventoryReducer, {});

We also need to decide what value we should start with for the accumulator. In our case, we want to return an object that looks something like this 👇

    {
      shirts: 3,
      pants: 2,
      socks: 523
    }

In order for us to get that, we need to pass an object.

We could pass an object like this 👇

    const inventoryCounts = inventory.reduce(inventoryReducer, {
      shirts:0,
      pants: 0,
      socks: 0
    });

That would start everything off at zero.

However, more often then not, you are not aware of all of the different types that will be coming in so there is no way for you to go in and make a huge list of everything ahead of time. Or -- you might be aware of it and there are 50 different things so it doesn't make sense to do that.

What we will do instead is we will start of with an empty object and then add the keys and set them to one as they appear, otherwise if they already exist, we will increment them by one.

    const inventoryCounts = inventory.reduce(inventoryReducer, {});

Shown above is how you pass an empty object as the accumulator

Our reducer takes two things:

1.  our accumulator which we will call `totals`
2.  our item which we will call `item`

Let's add a log to our reducer function which logs the item's type like so 👇

    function inventoryReducer(totals, item) {
      console.log(`Looping over ${item.type}`);
    }

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:850px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:70.4%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/09-gettin-loopy/52-looping-and-iterating-reduce/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvElEQVQoz12SyZbjIAxF/f9/Vqd7XZVUJoNBAuHENpOHZNFHkOp0560Qm8t9osnzLGXXtsISKa2HYVyWBUuMMUopKaU1RkophAAArZQpIyI2MaXvw1FpPS/Lsq73+/3xeMSfhBC89zFG730IgecQ6n2Ksck5Xy6iFbLvewScxmldVypxziGi1to5p7RWSllrEdE5p7W21jY+hN1uL2Q3z8x+I/uSGJ6H8EZOKZ0vbdsyGRDH6UUmS4iolCIiVWKNQUQiepJzTvvDkcms/HIOMVTyNE0xhv/IKdUi2Pl4Oh9PZ+d6rWEszsYaa60lCwBdUVWd6rrOGIMARFTP/Ozj6QwApez1URJTTDGmlGrbKaXqWYvgMYScUjMvi+yU7FTf9xqezraEiGrbFfUkI5AjrXnbzTRNn1+7VoicM7f9+LdtdhvZ+bnwv237wM9hZ25bSHK9hpdz1QYAbtu+yFCcVfln7LzbH9pWFOetOufEySkXYuAhpnfnnJt13QBRabjebsZY7/22rY4cWf5h1pQvRU4rzfKWjDG96wGA93y93j5+/f7a7WOhbRvD/U9uJWw+jsMwjOM4lYzDEEL4A2L6C2iBT0gWAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/7c6eb5d721d28f3110c8ec5fd1520676/ae694/680.png" title="looping and logging the items type in console" alt="looping and logging the items type in console" class="gatsby-resp-image-image" /> </span>

Inside of the reducer we need to increment the type by 1 and then return the accumulator or return the totals so the next loop can use it.

To increment the type, let's try the following code.

    function inventoryReducer(totals, item) {
      console.log(`Looping over ${item.type}`);
      totals.shirt = totals.shirt + 1;
      return totals;
    }

    const inventoryCounts = inventory.reduce(inventoryReducer, {});
    console.log(inventoryCounts);

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:824px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:23.2%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/09-gettin-loopy/52-looping-and-iterating-reduce/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCUlEQVQY03WQy06DUBRF+f9/0YlxamKpUltKc0XoA7i8ClwoUNr0YUzMMhA708HKyd57cM4+WtV90lMfv/AihSkcZgsb4QboE4vR6xzdsJhaLoZp8/xiMjaswTPFcsjn72ue9OmQa8KVmPaaDz/GlQmjccL9nc1MhOiiGpZ4cYmflPiRIkgqgl7HCplWBEmJTHeDF2U1WlS0uCLGWUT4Xo6z2fP4sMVZd6jD93B5T9+i/G1z46bL/W1e0fL6RCxbfKckWCv8sMGY1Cy9Bj/OkNuaKG8pmhNVd0W1F4rm/C/aSuak+ZFw0xCsdoSbmkx1yG01/GX8JpjbHnl9ZhlkpOUB1V4pmsuf/AA3NWryP13vHwAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/dc368ae38f4ce526d1bdbd16bcf468f1/c1c45/681.png" title="outcome of shirt after looping as NaN" alt="outcome of shirt after looping as NaN" class="gatsby-resp-image-image" /> </span>

Hm.. shirt is equal to `NaN`. Why would that be?

That is because if you are trying to add one to something that doesn't exist, it will give you `NaN` (not a number).

What we can do is check if the shirt already exists on `totals` and if it does, we increment it by one, but if it doesn't, we will set it to 0.

Instead let's set `totals.shirt` to equals itself plus 1 or 1 like so 👇

    totals.shirt = totals.shirt + 1 || 1;

Lets try it.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:802px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:23.2%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/09-gettin-loopy/52-looping-and-iterating-reduce/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyElEQVQY041Q2QqDMBDM//+WgigKiiBeVFoUjAme4IHHlF2wb6UdGLKzySyzEdM0YRgG9H2PZVkwjiO6rmN919Qn3bYtlFLQWoN8dN80DffneUZd1xBRFIHoeR6SJEGapjBNE47jIAxDWJaFLMtg2zZ83+d3hmGwJ45juK6LIAhQFAV7BH7gPE8cx4Hrurimk0g90kQCJc/zHILWLcuSKaXk2Nu24ZFpKKXxL/Z957UFTaa4VVXxMPqPdd3weipI2XxS3sm+8cYb/7R7DRGg+p4AAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/aeddcfa9d11dcf114be319a41d29c0d4/5a6dd/682.png" title="total shirts in console" alt="total shirts in console" class="gatsby-resp-image-image" /> </span>

Why did that work? This is an example of **taking advantage of conditionals** or **abusing conditionals**.

If we were to write that as an if statement, it would look like this 👇

    if (totals.shirt) {
      totals.shirt = totals.shirt + 1;
    } else {
      totals.shirt = 1;
    }

Note you can also increment totals.shirt like this `totals.shirt++;` Both work!

So what is happening there is if the property doesn't exist, we first need to add it, and set it to 1, and then we can start incrementing it.

In this statement `totals.shirt = totals.shirt + 1 || 1;`, if `totals.shirt + 1` turns out to be `NaN`, then that is falsy and it will fall back to 1.

It's a bit harder to read which in a lot of cases isn't ideal, but it is nice to do it in a one liner.

Shown below is yet another way 👇

    totals.shirt ? totals.shirt + 1 : totals.shirt = 1;

We are checking if `totals.shirt` exists, if it does, we increment it by 1, if it doesn't we create the property and set it to 1.

One thing you may have noticed is we have been hard coding shirt, which we shouldn't be doing because there are a few different types.

We can change it to a variable lookup item using square brackets like so 👇

    totals[item.type] = totals[item.type] + 1 || 1;

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:806px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:55.46666666666666%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/09-gettin-loopy/52-looping-and-iterating-reduce/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdUlEQVQoz4WR15KjMBBF+f/f8qun9sEm2AgEQgJJIIJJCpa05bCzWztTNeetw73d1R1475umgRCmKWiaJs/zKIqyLL9er0VR5HmexA/O57AsSwhhkiRZllVVBQAIvPecc0opxrjve0YZLCAmFUKormtKKUIVIRihghDCGCOEcM7TNEUIPcTOuW1blZJGKymltX5brfdeKbVtm3POaPvMOPnEGDNNkzEm0FpTSuMoCaMLgARjNI0KV2PbsdPpdE3Tuq57MedAaC3jOM6yDABwu92894H3thfr+VdZdfuFOv/EPfH/8G34Wtvfzb25UIEGlrXbsnat0sq+TP50/zX9tA7eNetEIYZqaItuW7caz5yJrwP/4y2+3215rFrQ1XGzzgujjwt+DvxB7KyjMeMpbxK6LgunUj3W/oH3q/Z9n9k8kqmDYh7m+WasdVrrYRj2fZdSaq2/F7++ZVYzkmnEkyiGtV2mfuq67nA4fByPYRhyzr+e4DeDMXEvS3DjXAAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/baa90bab41bb163184b29e49a722e0a7/764be/683.png" title="result of calculation as total shirts, total pants and total socks in console" alt="result of calculation as total shirts, total pants and total socks in console" class="gatsby-resp-image-image" /> </span>

As you can see, now our accumulator has the 2 shirts, 2 socks and 3 pants.

Pretty often a reduce can be done in an arrow function, a really quick one.

In our case, we just want to add up the inventory `price` on each of them.

We will start with 0 as our accumulator because we want to add up the total prices.

    const totalInventoryPrice = inventory.reduce((acc, item) => acc + item.price, 0);
    console.log(totalInventoryPrice);

We loop over every single item and then we return the accumulator plus the current item price.

Find an issue with this post? Think you could clarify, update or add something?

All my posts are available to edit on Github. Any fix, little or small, is appreciated!

[Edit on Github](https://github.com/wesbos/wesbos/tree/master/src/javascript/09-gettin-loopy/52-reduce/52-reduce.mdx)

[**← Prev**](https://wesbos.com/javascript/09-gettin-loopy/51-looping-and-iterating-filter-find-and-higher-order-functions/)

Looping and Iterating - Filter, Find and Higher-Order Functions

[**Next →**](https://wesbos.com/javascript/09-gettin-loopy/53-looping-and-iterating-reduce-exercise/)

Looping and Iterating - Reduce Exercise

### <span class="highlight">Syntax Podcast</span>

Hold on — I'm grabbin' the last one.
