


-   [<span class="small">real life</span><span class="Headings__HStyles-aur4qp-0 crWyxE"><span class="grit">Speaking</span></span> <span class="small">and training</span>](https://wesbos.com/speaking-and-training)



(https://wesbos.com/javascript/04-the-dom/built-in-and-custom-data-attributes)
    1.  [Data Attributes](https://wesbos.com/javascript/04-the-dom/built-in-and-custom-data-attributes/#data-attributes)
-   [Creating HTML<span class="videoNumber">Part 25</span>](https://wesbos.com/javascript/04-the-dom/creating-html)
    1.  [append method](https://wesbos.com/javascript/04-the-dom/creating-html/#append-method)
    2.  [insertAdjacentElement method](https://wesbos.com/javascript/04-the-dom/creating-html/#insertadjacentelement-method)
    3.  [Generating An Unordered List](https://wesbos.com/javascript/04-the-dom/creating-html/#generating-an-unordered-list)
-   [HTML from Strings and XSS<span class="videoNumber">Part 26</span>](https://wesbos.com/javascript/04-the-dom/html-from-strings-and-xss)
    1.  [document.createRange() and document.createFragment()](https://wesbos.com/javascript/04-the-dom/html-from-strings-and-xss/#documentcreaterange-and-documentcreatefragment)
    2.  [Security and Santization](https://wesbos.com/javascript/04-the-dom/html-from-strings-and-xss/#security-and-santization)
    3.  [XSS (Cross Site Scripting)](https://wesbos.com/javascript/04-the-dom/html-from-strings-and-xss/#xss-cross-site-scripting)
-   [Traversing and Removing Nodes<span class="videoNumber">Part 27</span>](https://wesbos.com/javascript/04-the-dom/traversing-and-removing-nodes)
    1.  [The difference between an Node and an Element](https://wesbos.com/javascript/04-the-dom/traversing-and-removing-nodes/#the-difference-between-an-node-and-an-element)
    2.  [Properties to work with Nodes and Elements](https://wesbos.com/javascript/04-the-dom/traversing-and-removing-nodes/#properties-to-work-with-nodes-and-elements)
    3.  [Removing Elements](https://wesbos.com/javascript/04-the-dom/traversing-and-removing-nodes/#removing-elements)
-   [Cardio<span class="videoNumber">Part 28</span>](https://wesbos.com/javascript/04-the-dom/cardio)
    1.  [closest method](https://wesbos.com/javascript/04-the-dom/cardio/#closest-method)

##### <span class="grit">Module 5 - Events</span>

-   [Event Listener<span class="videoNumber">Part 29</span>](https://wesbos.com/javascript/05-events/event-listener)
    1.  [Removing an Event Listener](https://wesbos.com/javascript/05-events/event-listener/#removing-an-event-listener)
    2.  [Listening to events on multiple elements](https://wesbos.com/javascript/05-events/event-listener/#listening-to-events-on-multiple-elements)
    3.  [forEach method](https://wesbos.com/javascript/05-events/event-listener/#foreach-method)
-   [Targets, Bubbling, Propagation and Capture<span class="videoNumber">Part 30</span>](https://wesbos.com/javascript/05-events/targets-bubbling-propagation-and-capture)
    1.  [Propagation](https://wesbos.com/javascript/05-events/targets-bubbling-propagation-and-capture/#propagation)
    2.  [this keyword](https://wesbos.com/javascript/05-events/targets-bubbling-propagation-and-capture/#this-keyword)
-   [Prevent Default and Form Events<span class="videoNumber">Part 31</span>](https://wesbos.com/javascript/05-events/prevent-default-and-form-events)
    1.  [preventDefault method](https://wesbos.com/javascript/05-events/prevent-default-and-form-events/#preventdefault-method)
    2.  [Other Types of Events with Form Inputs](https://wesbos.com/javascript/05-events/prevent-default-and-form-events/#other-types-of-events-with-form-inputs)
-   [Accessibility Gotchas and Keyboard Codes<span class="videoNumber">Part 32</span>](https://wesbos.com/javascript/05-events/accessibility-gotchas-and-keyboard-codes)
    1.  [Difference between Buttons and Links](https://wesbos.com/javascript/05-events/accessibility-gotchas-and-keyboard-codes/#difference-between-buttons-and-links)
    2.  [Keyboard Accessibility](https://wesbos.com/javascript/05-events/accessibility-gotchas-and-keyboard-codes/#keyboard-accessibility)

##### <span class="grit">Module 6 - Serious Practice Exercises</span>

-   <a href="https://wesbos.com/javascript/06-serious-practice-exercises/etch-a-sketch" class="currentModule">Etch-a-Sketch<span class="videoNumber">Part 33</span></a>
    1.  <a href="https://wesbos.com/javascript/06-serious-practice-exercises/etch-a-sketch/#shaking--clearing-the-canvas" class="currentModule">Shaking / Clearing the Canvas</a>
    2.  <a href="https://wesbos.com/javascript/06-serious-practice-exercises/etch-a-sketch/#event-listener-once-option" class="currentModule">Event listener "once" option</a>
-   <a href="https://wesbos.com/javascript/06-serious-practice-exercises/click-outside-modal" class="currentModule currentPage currentSection">Click Outside Modal<span class="videoNumber">Part 34</span></a>
    1.  <a href="https://wesbos.com/javascript/06-serious-practice-exercises/click-outside-modal/#closest-method" class="currentModule currentPage">closest method</a>
-   <a href="https://wesbos.com/javascript/06-serious-practice-exercises/scroll-events-and-intersection-observer" class="currentModule">Scroll Events and Intersection Observer<span class="videoNumber">Part 35</span></a>
    1.  <a href="https://wesbos.com/javascript/06-serious-practice-exercises/scroll-events-and-intersection-observer/#intersection-observer" class="currentModule">Intersection Observer</a>
-   <a href="https://wesbos.com/javascript/06-serious-practice-exercises/tabs" class="currentModule">Tabs<span class="videoNumber">Part 36</span></a>
    1.  <a href="https://wesbos.com/javascript/06-serious-practice-exercises/tabs/#converting-a-nodelist-to-an-array" class="currentModule">Converting a NodeList to an Array</a>







##### <span class="grit">Module 13 - Ajax and Fetching Data</span>

-   [AJAX and APIs<span class="videoNumber">Part 74</span>](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis)
    1.  [What is an API?](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis/#what-is-an-api)
    2.  [JSON](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis/#json)
    3.  [AJAX](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis/#ajax)
    4.  [Public API list](https://wesbos.com/javascript/13-ajax-and-fetching-data/74-ajax-and-apis/#public-api-list)
-   [CORS and Recipes<span class="videoNumber">Part 75</span>](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes)
    1.  [Query Parameters](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#query-parameters)
    2.  [CORS](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#cors)
        -   [What is CORS?](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#what-is-cors)
        -   [CORS policy](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#cors-policy)
    3.  [Babel](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#babel)
    4.  [Browserlist](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#browserlist)
    5.  [Proxy](https://wesbos.com/javascript/13-ajax-and-fetching-data/75-cors-and-recipes/#proxy)
-   [Dad Jokes<span class="videoNumber">Part 76</span>](https://wesbos.com/javascript/13-ajax-and-fetching-data/76-dad-jokes)
    1.  [Headers](https://wesbos.com/javascript/13-ajax-and-fetching-data/76-dad-jokes/#headers)
    2.  [Getting a Random Index](https://wesbos.com/javascript/13-ajax-and-fetching-data/76-dad-jokes/#getting-a-random-index)
    3.  [Loading State & CSS Loader](https://wesbos.com/javascript/13-ajax-and-fetching-data/76-dad-jokes/#loading-state--css-loader)
-   [Currency Converter<span class="videoNumber">Part 77</span>](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter)
    1.  [Caching the Rates](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#caching-the-rates)
    2.  [Converting](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#converting)
    3.  [Hooking Up The UI](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#hooking-up-the-ui)
        -   [Input Event on a Form](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#input-event-on-a-form)
        -   [Wiring up Handlers](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#wiring-up-handlers)
        -   [Formatting Currency using Number Format API](https://wesbos.com/javascript/13-ajax-and-fetching-data/77-currency-converter/#formatting-currency-using-number-format-api)

##### <span class="grit">Module 14 - ES Modules and Structuring Larger Apps</span>
##### <span class="grit">Module 15 - Final Round of Exercises</span>


<span class="grit">Click Outside Modal</span>
=============================================


JavaScript, ExercisesEdit Post

In this lesson we are going to learn how to check whether you clicked outside an element, which kind of tough.

Let's look at the HTML we will be working with.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1278px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:121.86666666666666%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/06-serious-practice-exercises/click-outside-modal/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAAsTAAALEwEAmpwYAAACYklEQVQ4y2P4+u3Tzx/ffnz/9v7dm3uPnuw+c2PP2esHLtw5fOnuwYu3D166c/DinUOX7u47f3Pv2Zt7zt7Yd/7W8euPT1x/dOLafYbS/PTNK+aUFGSE+7vE5FcxZ21hSFnLkIqM1oFQ2jqGtPUwBojNmLaewcxG1dVPS1lRXltLRNXemTFzM1PGeqaMDcwZG5jwoHQQYvBJcg4tcrfxd/RIsDNNiWFI28gM1kkMYrCfsNWqb7tR31bW3BUc6SuwKdqIRKJqrjSeVm4+s0F3qoPLIobMzazp60mweVfYjHM56+5lrG7KXCxXuZolfQMJmrecO3L83uVzL+4duXqqbfFGhtT1LJkE9DBlbGDNWM+ZuY5h0bTuK0d3LZ87eUJTaXXfdJbsLczoLscZhAzW1noRUS7a2poqiiIajj6s2VuZiPY2g2eYTkCKlpGlhlugmlm0F2lR5do1x7ZzgVPfAv/++brlc4nxM0JzZMgK/+BVYX7LzOI3sORtZyIpqg6Z9Z12n/fAYVaZ71zWgnWsJEXVqh07Dpw5d/TS5dV79+VMW82Qtp6FeM27ty2/d+3EsUPbdq6b17dwBWPGJhJsdnexKStMsbI0U1aQMPGKYM/dRkJUufmquYXJ6+ooeHrKGwe6MKRtJMHZ3jXlQe11duWVWlm5Shl1TBmkxLNL8Xb7ol0Wudu5E7cwZGwjXidI83r1zk1GU45p9Wc5z2bI3UBallw9Y92R9cdPbzgxbf5Wv67VjCRpPnpqz617l67du3T+3L7JKzczpG0gIcBSYoLmT26LCvZ1MNf1TcxmJyWFAgBVuU3dAuyOqQAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/57689f98544ea2c9f688b31d2926bdc9/9cea8/1325.png" title="screenshot of the HTML page" alt="screenshot of the HTML page" class="gatsby-resp-image-image" /> </span>

    <body>
      <div class="cards">
        <div class="card" data-description="Wes is cool">
          <img src="https://picsum.photos/200?random=1" alt="Wes Bos">
          <h2>Wes Bos</h2>
          <button>Learn more →</button>
        </div>
        <div class="card" data-description="Scott is neat!">
          <img src="https://picsum.photos/200?random=2" alt="Wes Bos">
          <h2>Scott Tolinski</h2>
          <button>Learn more →</button>
        </div>
        <div class="card" data-description="Kait is beautiful!">
          <img src="https://picsum.photos/200?random=3" alt="Wes Bos">
          <h2>Kait Bos</h2>
          <button>Learn more →</button>
        </div>
        <div class="card" data-description="Snickers is a dog!">
          <img src="https://picsum.photos/200?random=4" alt="Wes Bos">
          <h2>Snickers the dog</h2>
          <button>Learn more →</button>
        </div>

      </div>

      <div class="modal-outer">
        <div class="modal-inner">
        </div>
      </div>

      <script src="./click-outside.js"></script>
    </body>

As you can see, each card has a random image, an `h2` and a button that says "learn more".

Let's add the following CSS 👇

    <style>
      .cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        grid-gap: 20px;
        padding: 2rem;
      }

      .card {
        background: white;
        padding: 1rem;
        border-radius: 2px;
      }

      .card img {
        width: 100%;
      }

      .card h2 {
        color: black;
      }
    </style>

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:48.800000000000004%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/06-serious-practice-exercises/click-outside-modal/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACSElEQVQoz43IW09SAQDA8dOSPkIfoK0Xtx584KW5irSyC2MrM6cx7TIBc4gRo6UYAksITYJBjpumgngMOEcOinIR5BIcEhBEnVOh6WTOYGGOXFqnkVu9tv1ffn9AYUZquf0EuqycLq+Rz/VZY2JrvAeJdo2j9+Qu1iDUwNc8FKruvlTceevs0LkFoJepdTA1jlKODVj8wALf1LWQKzva6mQTgcxaAnUjce/0cjzKUUH6gW47NDQzoX0nZogMto1F75RxeFCrmUFMhFfTgJzHkvCYz2n1UlGH2BxAvbNqKUXXy3I73Zx+6P3TtjUIHFWp21ooDJmxky9sesK8XU/VDyivvrYDfAalinCJ/qCB8pgiMHj8DuuAQiCg3h/RqoXgnJzHNfWIEN2QBTayVVOnz+DPlZWfLcVXXblRxh4DyNVE4q3r7cxWfhePb3D7nBaNXNL7gj2qH5FORkLzodTm+sGP77vZXf6Y92IF6XLFzfMXrjWSG/HtJiDp/ziLOPM72fzBoXRyIe4PxQKfAi7P8npa414NOP3znuB+Nv8LwxT2pHZcH1lZQJOxwtcvNcowcNQIbRN1+1zXNwzTqtE9sjFD1BU6ZwsYpgMTmVpwh6TPPrMdYdiIY3VJYvsJrxy6UhiG1ShRYDm8FfRsxOa3Aqkcz5iIBT+H5lLR8FYoleuGl0K+dNiXjqCb0e09wVDEUm1ASMPWR6ZUrlDZ5wNOtSLF6BYcFSpphv+RBuOKtPxlSTOMo1uOT5E0GACazCeOo/zpv3mSCv0GG1BfReBiwgYAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/a399d581adac7d47ac7180dc4adf7c7a/aa440/1326.png" title="HTML page showing four columns card" alt="HTML page showing four columns card" class="gatsby-resp-image-image" /> </span>

That looks good.

Moving onto the modal, add some dummy content inside of it so when we style it we can visualize what it will look like.

    <div class="modal-outer">
      <div class="modal-inner">
        <p>Testing 123</p>
      </div>
    </div>

As you can see, there are two nested divs each with a class of`modal-inner` or `modal-outer`.

Go ahead and style the modal in the on position and then we will turn it off with CSS. 👇

    .modal-outer {
      display: grid;
      background: hsla(50, 100%, 50%, 0.7);
      position: fixed;
      height: 100vh;
      width: 100vw;
      top: 0;
      left: 0;
      justify-content: center;
      align-items: center;
    }

    .modal-inner {
      max-width: 600px;
      min-width: 400px;
      padding: 2rem;
      border-radius: 5px;
      min-height: 200px;
      background: white;
    }

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:89.06666666666666%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADhklEQVQ4y2WS228iZRjG58ILo4lx1bjuqrtaWLe1K6diabru0tU1+9d44b/gISYmJrvZW2+MKVgGmKFSeoIFGqAtBWaAgRnK+XzswEyBOTMG2q6affL7kuf98nz5Lt4HqFR3y+UdgoCxlDUaM0VjJjT+F4KaEcQcQ8wzY5qCmmOIKZ22FUs7+YILJ6Bs1gFE3PfCzlvI1s2U+5OoVxU/0OF+VSG0VDnSE0E9FjJEfTrUv0QcLmOHK+Ht+YDto4jtw7Dl+pHzDhDZ/yIM38D/fje6ef14Z7FybKCQlTH2gMcftNGH+LExe7JWRr5pJx/no0Z0bzHuVObgm8WNa+ntu4DPdjsNv0MHP254PsA8C6jrs5M/X0uAb9Zc1wqeW0Rw8dR/B/cqsj4lHjBk9uazLkXGpUha3ke3F4DUriIPvYWBbx//8TrqvO3b+DS2913u5Kc6+mOL+K1beFZCfiihv2RD3x865lPbioT9RsD03v7vbwTsc0D2QJXZmyv47pb8n+M+Vfpg5ZwmSVpmWEm+1GR6uHYu9BXhXSi8UOReKEt+5WlQB9R9huG+fuheljPfdolHDb9RHDbGzFjgx5LEzWBFSZLFSif9JB/QUfFV7vRrOf+4mXgEnLmXZecS79DJ6MMeYey5jTJHv/zwwsxcr5N+0t3SipBWgLQyttZKrQFH/hU0dB8JrcaDqyHP8qH/fhL7NYE9T2DPrniawJ4nEz+HvKtBWBuxasKgBvEYgl4DYLJq1sFLTDaNyape31Csb8y9gtJk1ZghrQmesm6bhgEQ0lphrRWaAs6wwvpX+BKE9BeZS+BpErDY1Ra7ygppQEg98xdowOmNxmJXW2ENaNdYbFoQUl9lVDPUAJq0p4mtKGJD4hCWciQwR/KKRBLGUpuRqAVLbaJx28WYxrdy+d1sbhcnnAB1xvY7VLVKUUNRmsiS9C88L2cLnVqdbDR6rVa/2SSr1U6nPej1zklyRJ4NAao7IGud0YAWeX62l5fdkEVRbHe7o9FoPB4LgiCKgiDwgsCT5Fm/Tw4GfYCmz9vlZr9VLhbbxWK3Xe9xHMtxHM/zLMtSNEXR9Gg0mkwmkiSJosgwDMtyLMsyDANQNFUvN4sZPHtaINKVZqNHzkTTND0c9puNViLeKBXLtdqsLhOGYUYzTR9PZJlsksyIkyTpP6267BXT7fbxVK9cqtdqLMfJ/9c/GakTZmE/OUUAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/672d781276895bdcc65e5cef4f2c44cb/aa440/1328.png" title="inspecting modal in dev tools" alt="inspecting modal in dev tools" class="gatsby-resp-image-image" /> </span>

Now you have this modal which will pop up and you want to be able to close it.

Let's just do a really quick example to demonstrate how this works.

We need to hide the modal by default.

There are LOTS of different ways you could do that, such as `display: none`, `visibility: hidden`, or something that Wes likes to do is give it an `opacity:0`, which won't cut it in our case.

That is because even if you did give the modal an opacity of 0, you will see that the modal will prevent the other elements from being clicked like that buttons.

That is because the `modal-outer` is actually still there, even if you give it an opacity of zero.

What you can do is give `modal-outer` a pointer event of none like so 👇

    .modal-outer {
      display: grid;
      background: hsla(50, 100%, 50%, 0.7);
      position: fixed;
      height: 100vh;
      width: 100vw;
      top: 0;
      left: 0;
      justify-content: center;
      align-items: center;
      /* hide this modal until we need it */
      opacity: 0;
      pointer-events: none;
    }

That tells the browser to just ignore that any events that come to that and to not capture them.

That is an example of where JavaScript and CSS work together.

Now if you refresh the page and give `modal-outer` an opacity of .5, in the dev tools, you will see that the modal outer is still there but you will see how the buttons underneath can still be clicked and the events aren't being captured by `modal-outer`.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:96%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEAklEQVQ4y2WNW0xbBRjHz4s++uKD7z54iUZnjIu6ZRoNa0sWjdJ4WTYfNqFlhdHNrcoK68bojd5SChTaUaDQUsKAFQoE0UFlm5vRDaGUIOXS2zntaU/bc07Pac85pce0GAP6zy//fJf/lw+4Pa1eeqya87bOLMhm7ms77sgtTql15LrF1Wy7qzA4mnXmOp2lQdctMg7+MLZoco41DoxIunrrul3XALu7ZuOXihVv5cLIux4X3zx4oV1daTXxOzSnRkcEjW2n+V+/fab6+OdfvH71+imn45ul4U+me0/WffaMUnYMsI7W3Bs9NmZ7z3zriGforHWotkd13Kr9yKo+4ez7yjEp+XlO8uNco8spGPc0Nsk+HlAeHdCd+O7s8zplBdDlOOe2vKm59qrmymsPps6bLV+aJK8YpO9YZUdG+0/39lW7Wt/oVxzViF/s76psusERfPqs5NwLIv5z6pYPgA7Ht3cs7982fDjaU/HIW2u0nOnSix12k6tXdW9h1jI2e0MmVWnb5C3Nej1fa6hSNrxkbXlLffllm7kKcExKI0tNW4tNRagHhqwzczLI9zCwuhPc3Iqi5KO1SCIQRMIJtshEQMfYzOWNp1IwpE/s6MCQGZiwSuhWUeL7auquLEX1ey1Xc7b5rHOT9SUyLLsyH2Rc6+jAGrsRj6acC/ZLuEtCu2+yARMc6wa6J2S+X9t+8ypX/tB6n+oG3bd8yw+erK6vBjbub264Hy/7/P4nq35/YH1+udOhFz+UCn+6cv73qZuLf+qBSnX9SVUdR1XHUYi4chFPVcdR1nKUQo5CwJULeEohZx+FkCu/UKmp5+gu8gwNHHU9Vy4CqrQN/H/RicutuITuUon9WluudeIqTQN/H20pCfAUQq5CwFMIeUoht+y8A15alZ1bjnHlAs4/1PAUQsDothsn7Ua3XT9ua58cNEz0Gd12w0R/aTLR1+kZMozbOjxDRvdA+6S9wzPUOe00zw53zQybpgYBEiPwZDoOJeEExlAFiqQYiqFzFJNnaDIPRuFoJAZD8USZWBRC4CSB4bksgWcwgMTJ+DaYSaTyBMWyLFtkDyoSARMxGEEQFEOzBJFBUQzHoBgEQlAchoEUkgK3wUR4OxQEt3bi0VA8haQwDM/i2SxB5jMZdH0NCe1C4DaGohiGoSiK4zhFlT4BOEHEwnAyHAKjYDCUhGKpdBLJIOk8nc9RFIEgCf/abjCUzqDs/wQU2WIaSmNwJpvGswRN5ArZXIFh9miSLrIshaKprU0cSRZIkiBJhmEOHVNkHt6FKTLHMEw2x+Aknc3RNM1QJFUsskQGBX3+8PomGI6m0um9wt6h473C3n9GB5VKZfx/hVcDUTCRzudyxcP6G9Q9IRv/mE0qAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/1c1f1c05c1d6d3edb97ec1fd71985e93/aa440/1329.png" title="updating modal-outer opacity to 0.5" alt="updating modal-outer opacity to 0.5" class="gatsby-resp-image-image" /> </span>

When the modal has a class of open, set the opacity to 1 and the pointer events to all.

    .modal-outer.open {
      opacity: 1;
      pointer-events: all;
    }

If you go into the dev tools and give `modal-outer` a class of `open`, it will show up.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1500px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:98.66666666666666%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADrElEQVQ4y3WS6U4bVxSA5yFapQpKszVtsXEoOMEhFBB1XyAE0jSh+MH6p6rSRiXqxMY2NhhK2MxiMF4CNjAzXsD4ztxZPfte2ZQ06fLp09HRueecP/cg+c3nRPY5lp0islOHmalC5gciHzrJhfB86GB3Orv1LL/1NJv+Lpd+spd++nZ3miiEsHyIyIfK2WkkH73djHaRqZswdb22/CWRua8eBqSDgFF+QOUfZBJ31mY+2o5d3Z69ko59ShUGXXzIOhly8SGp9BDZn+s5idyohG/WwzeIhZ79ZX9x3pOb9+7FPs8k7+aWe3di13cTt9Lha9vJbrI45hBBEwvaeFAsjSHFyBfYzx9jL7sqL7vwuGcz7tlCPQdLg9l431rEX1j5emu2e3+pP5f6KrvoPdm4X1n2VlZ8xB/ek5Ve5DDWXZ25Vg3frqG3iKR3Leyhaosc25D4uq5Rpg5NnbItVhWrhTdju/E76y8+2fj16vqLK7uRz5Dj9ADM3IN7Aw4eZIojx5tDMvuWoiVFUdy/cJx21Nmj70urvnq6j9wPwL0BrjiKnMb85qte6RefmxnmieBpfNDljtvdjv2PYR5/Vn3Tq6wHnL1ht/yNjH2L4CuD8sZDbnVQzo+eF0ew1WGN3ZFVTlGaikp2BLJKaeppozSJRXzcT3fJHz3CUgCWxhA06n89d69t1I+G+9CoPxIfjsRH/+UIGvGjs/3vNfcjr177/zZ8kfT9j51XtGMnR2bQnhnU24nv9L3zt9/blcvofd8Z1IvEko9iyfFYYjyaeBS7MDneKbbzRGpibv5xMjWZWHicSE3MLz1JLk4mUxOJhYl4chwBJAAkidfOiPo5BSEAAEJIkoCmISBBtVYrHx3hOI7hGN4Gq9VrNEOzHEdBiEicxJ4DhoS6Zrgf4jhO9QxQDM8LvNBqCa0WwzC8wAOSbAJAURTC0AKoUgLL8pykyKrWUg3TNmzHsGzddhSBFyu4QtOaJOq6frFU13VVVXVdQ844Fa9AokJUsGbtkGyUycYpVyVFIFqUYjMsx0HY4jhD1UzTdF1XuUSSZcSybeaUlhheZAVR0RXd1DTD0k3HtFzXlVgW5HJkvUbTDUmSREliuTaiKBqGgSii2sSAxLdEQWZ4leZUtqWpiq7wsuW4GsvCzA5ePmo06kYH0zQty7Lt9vEipmYamu7+F47rGmKLrlZbsuzY7Qt3Ls78EkQWZEVQGJo9b9OkKNjZ28FxDElij8tCpcIBQEJoGB/8yJ9ovI1qT48KLgAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/716221bacb5d149bba1fef5adac5c5a5/aa440/1330.png" title="added open class to modal-outer in dev tools inspect to show modal" alt="added open class to modal-outer in dev tools inspect to show modal" class="gatsby-resp-image-image" /> </span>

Let's add a transition to make that look a bit smoother. 👇

    /* hide this modal until we need it */
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s;

Now if you refresh the page, grab the modal outer in the dev tools and give it a class of open, it will fade itself in, and then fade itself out.

Now let's get into the JavaScript.

We will work on clicking the button on each card now, starting by selecting them.

Then we will loop over each of the buttons and add an on click event listener to each one and pass a function as the handler called `handleCardButtonClick`.

    const cardButton = document.querySelectorAll('.card button');
    cardButtons.forEach(button => button.addEventListener('click', handleCardButtonClick))

Above that code, go ahead and create that function.

For now, just log "YA CLICKED IT" when the button is clicked.

    function handleCardButtonClick() {
      console.log('YA CLICKED IT');
    }

    const cardButton = document.querySelectorAll('.card button');
    cardButtons.forEach(button => button.addEventListener('click', handleCardButtonClick))

If you refresh the page and try to click on the buttons, you will see the log in the console.

Next you need to grab something to show in the modal.

Let's grab the `data-description` of the parent card and show a larger version of the image.

To do that, grab the current target from the event and assign it to the variable `button`.

    const button = event.currentTarget

<span class="grit"><a href="#closest-method" class="hash-anchor before"></a>closest method</span>
-------------------------------------------------------------------------------------------------

Now you need to find the card that is associated with the button.

You could do `button.parentElement`, but if the button were to ever more or be nested inside of something, that wouldn't work that well.

What you can do is take the button and run the `.closest` method and search.

It works kind of like `querySelectorAll` for the closest card.

    function handleCardButtonClick(event) {
      const button = event.currentTarget;
      const card = button.closest('.card');
      console.log(card);
    }

Now when you click each card's button, you will see the card logged to the console.

What is great about using `closest` like we did is you can take any element, such as one of the `h2` elements on the card and search for the closest div, the closest HTML element.

If there is something that does not find (like `$0.closest('.doesnotmatch')`) it will return `null` because there is no parent of it.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1301px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:92.26666666666667%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADsklEQVQ4y4WNa0xTdxjGz6cFJ9ngwwSWmI0sy5ZF3UUWImLEqGGKDEwhjDFu7cgKh1sLpaUwGAPSzswBi2uoqa6Khjmc1dLrSgurIgNxHcxBpaR8AFsupz2XntPT6/kvRbNMP7gnv7x5fh+evFCx5FpZ60BFp/xTYV/VOW1+49nsguoTJbxjBdzyMyP5woGiNqlYqZb8pK+9NAG39hRVcj8uq85jNxzn90GfN0sqThc2VHFZp1gtZ5Unc0v3JCbtf+3tdxJ2wR3fZxezDxw7yhE3czrhLy/9IigvOJ3+ZtobKR+k7squ64W+7pDKviiautIO5+TUdp1nc1pY+zPLjuQUpmW2SJVZhRV7P8zYk35wX1ZG8+AIp7gg73Ba6ckDOYfePw5LIHa5UFZ4dGaAw09/r6T2m36hWJabxT546K3EpJqOcxm5pUfyS6pE3YdPsQSDN4vzPnp3d2LWvtf3piadgLuh9v7LqvPScZXi7siQ/OeJM3LFhb4ucWebsKnpu+ExUf+gVC6bd7uWXJsy07y0t1dYVy2ohyXdXZW9cmjk6vTS0J3F4VlAhKceEaofJx3D0w+u3MVW100Oj1l5x3HZ6tI+AGHmum1tSGdYxTaQIBUFgKfQQ9a+KdAxjjcbgX1z2kPaJLdBu4Vst4ANanzFa++xhtssxFfjgAjobC5nk56q11E9vwEA4B9UUNlVm9j4sFlnbx1d/OziLOfafEy1i6Kbf3+iuMe9/pfI8FCgtQtvLbBkv1c26aobRrkCXcsNe6Z4CNpZr4mrUe+A1Tvq1PGNmhfr1HHwrbiYjsa0Vh3rj5WnjW817BQb40X6FxoNu2suQMlCw6uiJyQLDcmipzTlGRXoUgT6FIE2WWxOhRXQy3xtDF7sJvA1CXxNrPM022ifXP7T8DQvCUyvsGWQ8b7DPOc0zC6ZbMuamSXt7LLx/vLYn85f/3CY51ZMtmXdzKJ5zqmbWbTMrZjnVqwLq7cX1u45kW+VNyDcs4kjm0ESCwf8NElQOIptuWkCi4ZDIBoGTCQSpDFkA/dshihfhCYDJE4TGIiGVGotRJCUB0G9Wxso6vMRuA/zkLgXxwkU9+METRAURdLhSPQxlJ9GMQLxogwDDBOTEIpi6651xL2KIV4/6aN9WMCH+SnKRwYpKuingwGSjkai4D+JbOuYdQoKhkIeF4I8cnncCMMw4Llhtgn/O2YYxrOGEAhGIgT4v/Gzn7cQ1O3eQjGC8KIk6Q8Eo4Fg5PlQ/hAAQG+Z/AfdCdK7q4cOZQAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/637a66907bd0b5a0d01acd10f4d929b2/07e9f/1331.png" title="console showing $0.closest(&#39;.doesnotmatch&#39;) output" alt="console showing $0.closest(&#39;.doesnotmatch&#39;) output" class="gatsby-resp-image-image" /> </span>

`.closest()` is like `querySelectorAll`, except it is the opposite where it will climb up the nested tree of DOM elements instead of look down the DOM tree.

We are going to use it once more within this handler.

Grab the image source.

    function handleCardButtonClick() {
     const button = event.currentTarget;
      const card = button.closest('.card');
      // grab the image src
      const imgSrc = card.querySelector('img').src;
      console.log(imgSrc);
    }

If you refresh the page and click on the buttons, you should see the image source logged to the console.

Now, grab the description from the data attribute on the card, like so 👇

    const desc = card.dataset.description

Add a log as well to make sure it is working.

Now when you refresh the page, and click the buttons, you should see the descriptions logged to the console.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:327px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:51.98776758409785%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/06-serious-practice-exercises/click-outside-modal/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVQoz32QTXObMBCG+f9/Jj00x1w7TNykiXGwQQk25kMWQkgrAUIgUCduJnGnnj6HPey8s+/O4+22O9/3CSGc8++3twghKSVj7OHhMQiCtm0BQEqpruEppbozWmtjjNZaSqm1HoZhMO9Da911nbyGtyyLcy7cbaMofgnDXRT1WkcxEiBe396e1utgs8my3Dn3J3mJN59XANA0DWNMCGGtrSra971UCmNMad33+iO+/IU3z4ud59ckSdMjxtgYQwgBgKIsk31yIqQoyhLjQ5oejxml9TTZzyMfb+dFESOUF6UxY4kxYw2pqnUQRDHaHw7l6XQiJMtzkNLa+au5rODb3TrDNaupAGg4r2jNhWjbdhxHpZS1Vg+DUm1NawDouu6ruazEzd1znBRPz79ewm2M0P3qZxTHhzTlnG/CkFRVst8fs+yH79+vVgLAOTfP7/3eaJdpWtw/Jj/1Xkq21l5a86gceTudV1fS/+c3pWUz1o89jA4AAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/ea180fdd10581009ada70d3dafcc3331/00e65/1332.png" title="console showing description logs" alt="console showing description logs" class="gatsby-resp-image-image" /> </span>

Next you can populate the modal with the card's info.

Grab the modal above the `handleCardButtonClick` method so you do not need to reselect it every click.

    const cardButtons = document.querySelectorAll('.card button');
    const modalInner = document.querySelector('.modal-inner');

    function handleCardButtonClick(event) {
      const button = event.currentTarget;
      const card = button.closest('.card');
      // Grab the image src
      const imgSrc = card.querySelector('img').src;
      const desc = card.dataset.description;
     }

Also select the name 👇

    const name = card.querySelector('h2').textContent;

Within our handler, set the innerHTML of the modal using backticks.

You want to replace the 200 value in the image sources with 600. Use the name as the alt attribute value.

    modalInner.innerHTML = `
      <img src="${imgSrc.replace('200', '600')}" alt="${name}" />
      <p>${desc}</p>
    `;

Next you want to show the modal.

To do that, select the `modal-outer`, which you can do right above or below where you selected `modal-inner`.

    const cardButtons = document.querySelectorAll('.card button');
    const modalOuter = document.querySelector('.modal-outer');
    const modalInner = document.querySelector('.modal-inner');

At the bottom of the handler function, add `modalOuter.classList.add('open');` to show the modal.

    function handleCardButtonClick(event) {
      const button = event.currentTarget;
      const card = button.closest('.card');
      // Grab the image src
      const imgSrc = card.querySelector('img').src;
      const desc = card.dataset.description;
      const name = card.querySelector('h2').textContent;
      // populate the modal with the new info
      modalInner.innerHTML = `
        <img  src="${imgSrc.replace('200', '600')}" alt="${name}" />
        <p>${desc}</p>
      `;
      // show the modal
      modalOuter.classList.add('open');
    }

If you refresh the page, you will see that it works.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1277px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:90.13333333333333%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADoElEQVQ4y12SW2/aZhiA/ZM2bYF0URoCgbRqIcuhK+vFNO1i17uZtKtdTeoPWBMp3eEXQBJiAkmaNA0JOWBzMMcQHMzRgDHGZ3+2sV1BGk3do0efHul7P703H5SJuYtn86UrT/nSnY17Soi3lVkikt5GyltKeG+SvnZ+pZlbaeeXi6gvcbKQOnZlTj3pkwX01AOVzxz1+Gw94aydz1Tizm5uWS+/YDGfgHnJ9FK3uKYRfrnqV6svycIKcuC43JlGI7PXoUepYyeEX3vaSQ9+7sBjswT65CbmbMZmarEZ/N3XueNHDczLlZYGee+w+C2BLWdjnvSRA3vvzBzNZ88WoUrcVb+aq54/vjv9poospg4f4+c/15O/Ele/EOnf6NprsfmauftjWP0dTy0j0Zl44IsEbLvY+hI9nIVuL9y1+FwzsdBDPXVkMX/u0+WOZVmmZVqfmIRG1bOv0oczyM5XadiW2p3KfXBBrWsve/mMS/isux+Y8nct1M/3y90eRZINVVMsa2Qamj4yrVGXuvmRQJ4O8ysS7tfw7+nSS4g+ejracYOg00q/YGv+3vGqJVHjXeZ/m0eGZZkMdftT/8OT0fGz0fvn1s2rwa0fKqC+WnaVwFYb2bVi4nkOXSPb263OSYs8an7yXbNz0m5tF5C13L6rEnbd7MwTF94CugQFI47Ag8Gxc4HwdCBs/5/b8HQ47AjtzwcPncFDZyA6HoZCB87dA1fowUm7dw/coYn3AR+496PuaNQVjTjDUVdo/37MBQUj9sCeLRixj9377NzaG19tRewh2BaG7TBsg2HbLmwLhqcC4anAng1KJNdT2c0r9M01+gZJbSSS60hqA0muI8lxZ3KbCeTPLPZXMrmRyWxi2Ntc9u984V+s8E8KewvxQ5VnlRbJM5yuqZYKTE21xqGaimLVGoM2yVJdrttlez2WJBmaFjgWCJzKsQrEUgzdIDma0TXd+hzDMHqdDj9kBswAKDJQZEkSZVnqU93BoM8wNKQCddAZCHSXooYsK6oyDyQeSIIkAQA0medVUZAlSdd1wzDMCYZhKAoAAECGadJ9Tuj3RVZQgaqLjCYOdZmVRCBKKj8cApbVJEESBUVR7l8ahiHLsqIoUJ/u45Vms9potjo40asQnQrRua2Sd/Ven6YlnudpWuRYhmEURZl8PHM0GkkTII7nKIrJZAkcr5bKd8Vis92mun1mMGRZjhM5XmJZieMEQZRlWXtABUAF4CO98Ta//Wc7pgAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/274bc136f5dca64f18087179373c6011/a3a5c/1333.png" title="HTML page with a modal open" alt="HTML page with a modal open" class="gatsby-resp-image-image" /> </span>

The image is also there, it is just spilling out so let's fix the CSS.

Add the following to the style tag

    .modal-outer img {
      width: 100%;
    }

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:871px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:102.66666666666666%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEzUlEQVQ4y2N4fj770ZO9l64tunN749kzS27dWvPi+e53b/d8+3Lm18/7L1/sunxl8dlzC86dn3/m7OJrlzdduLTs6o0tv55P+HHHj+HlpZopi+u8EtRrOstq+xKqJng1Tg3Zebp6x4nW85dP7jrVG5qnEppuEV9o65Ok2T6ptrQ1uHN2wfNr/R8vOTO8uVbV0tekZy+XVRHQMz0ns9YyPFd1y/7utom5uWUJy3clpdSohWcYN/THZ1Y65dQ75DXaFDXGPTrfdnO7DsOHWw3N/ZUmboKR2UaeMVqVneEhiWZTFhYl5/lVNGZNXhaS327sFa+U3WAfmmrmlSAVm2c5YUbfk8udVzaoM3x90No1vdTAUSAi1zAw2aSqK8zFT7e4xyCv3nnDtkWzVuWlVplk1zpHZBu7R+hmVroXtzrPX933/FLHhXWqDJ/vNrVMKrHyVHAMMA/PsAmNd/aO1F6zv3jKktQ5K6vqJvqGZWkmFTn4xlp4Rpgm5Hv4JMpk1wV9u9p9f60Kw9+Xvb0z6pwCLIMSnNwDbA3NVboXBmw7OLFvVkF+vVdCqZFvklpMjm1AvL1LoEVEpp2RvXxYks+3h1PeHLFk+P992tT5/W4hlt6hdrJykuHJFq0zw+asqJw6r2HWspqKTv/IbKOYPIuoLDf/aGevKGNjJ7nY9NgXtye8POfM8P/z1JrWeg1jaUlpseBIt7rupNK24NruiBlLiy5c3zVhXkZyqVVgkoFfjK1zgKmjv5GGqXhUSsKHe9N/3PRl+P99RlZ+Nhcvu1ew/YQ5ZVllIdmVIQn5Tl0z0vrmJWfXW0XlGPjFWoSneFi7m1i6aWmbKYYmBf+8MPn7chOGfx+mxCcmiMsIByXbVfd5ppcHBMW7phX5NHVn7j+xJKvW1iNM1zvcJjE3xNLF3NzJ0MbdMLss6/2VSc82WTFcvdEeFRUlpSRu42no4KfrGe7mG+1g76Pe1p/z69+LzpkRHmFGboE2EckBth62JnZGxvZaGYWZl69N3bDNkuHq9bb07Ax5DXljW31LFwvXQBe/KBd7b+3WCem//9/rWxDjEWLuGmDnGeJk62ajb2GgYaQSkxJ58cqkDZstGK5ca80vLVbQVNA3NzB3tLR2s7XxMNY1U2jtT3/56Vh5h4+Nu5mNm7m1u6WRtaGeqYGChnxiRvKFy5M2bLEEaS6qKJNRldcy0jWyMde3MNG3MtDQV0wp9lq1uzwq09rY1sjIxtDI2ljHREvLUEdCXiIsNuoSyGaQs1tzi4pFZSXU9bX0LUz1zA21jLRUtZQdfKxSyq09Qi0MLI11THU1DXU09TU09DRFpUX9Q0IvXoZovtGemJbKxMkkoyIvr64kq6YgrSghpyJn6WYdneZgamegoqcjr64oqSgtKSclKSfByc/u5ul9EeLscxfqrly9vnP3zoOHDx04dODAoYP7D+w7dOTwybOnrl0/f/rMycPHjsCkDhw8dGDP3l3nL1wBhfZmC4bTZ2s+ff768eO7t+/efP7y+T8h8O/f3////1+9Pm39JnOG0+dq/vz5/+PHrx8/fv369efPn/8g9Pf/37////0DkX//grhQ8T//f/+GaJ4O0rxjt++RY1lHjmUeOZZ5+ChR6Mix7F17gzdvcwQAglFvhU+mZRgAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/0c187a763e74ac0ea716e3a5079dadef/9d5da/1334.png" title="a modal with a large image in it" alt="a modal with a large image in it" class="gatsby-resp-image-image" /> </span>

Good, now you have the bare bones of a modal.

The other thing we need to talk about is closing the modal.

Obviously we could have a function called closeModal which would take the `modalOuter` an remove `open` from the classList, like so 👇

    function closeModal() {
      modalOuter.classList.remove('open');
    }

But how do we code it so that the modal closes when you click outside of it, and not on the text or the image or anything like that?

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1211px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:74.66666666666667%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADV0lEQVQoz2XL+08aBwDA8ftr1ma/bL+YrNlSKo/j3g+O442ctVbQdZ2mj6xzj6w2SgBFzGpH7Sarqxg6rQjHQxC0mlGcFPCNrdqsq4CmXTOIaxa5ZVnSLts3318/wJMcXVyhf8kSO0vY1sq1zJJzI+/cWO5fyzlXc85spnct17eW61vN967nex9mXNsrXzxJy3bT8u2UDKg8Uh3tqv8o0MKeIcLfgugmLdei5ZrVDWZWZ1YbLFxbi66lSWs+rWnmyIYzc3G38JisrMCVPAi82FT+VmCKObScJ8Z9VgkG4QwqxUBcgdNKEmVQ1WkUN8ohtQxSST9AwbC/59U6cvCzuPTTSaCwIMtOv5/i67Kxk76xboRCMRpnVNjZJsrEUdw5qrGdMLRhIAuLSfAEhI57r+Yn35n7/q348HFg0V834zmWHDm+zL/nG7XKYIJUKJRKhZKhMIwwWkitBUN1sJiAT8ikdVLYN3o1fffd+PCx5MjbQDFLlDLYfhYTnpkWF+5YexzfdH/eYW760Gzu/LS97bIC1yOoFkHU8CkUFBFoLNL3+7piP4c/XyaBlzPwYQCsTIiFrPLpbsL7ned658daBdV1zRrhfzC1opgGgRhYBMlJPUQ34rGgQyho/lxlj3Z0wMsl+jBNVVPEq3VV9fnS165BGEb0euOQ2z3uvWE5Tys5DGURWAlpOJhqwGb9tiMefuEVHWYZIDYjjyehWEKenEUKG9MOm9PtdtustpvX+23drUYTrm/EUAqFaERlgBk9PhmwL8xh0bAkHgMBf1DsD4onA/V8FFxdCQ8N3py46xsd8Vi7LnacZywWimUxGEUxEleyCKPGJgL2aAK5F6z382IgEJIEQpIpXsxHZduPEneGb3d9dqXnywsftbId7WTHJbrZQlksOGfCDXpMp2EmJh3xJOIP1gdCkjc4NA1urkW+HXR3Xrrw1SeXz53VneEQnVHKNUpYth4nRDQtghHpmM86M4v+F/MR6e7O/YeLmXg0nJqfS0Qj934c89waHLrh6nc5XAP2gQG7vdd1f94TiYFTvPgNDoTEwbBkr5itVoVq5bBWqwn/q1Y7EgShvJ+e4k/9o17jv/3WY++zvfTTX+dL5XR5P10qP/jX6WIpdXCQ29y6/Rr/BW/i9jOqvNxUAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/978aec17b28205b45a15eb3791a3514e/bb3b7/1335.png" title="a modal showing an image and it&#39;s description" alt="a modal showing an image and it&#39;s description" class="gatsby-resp-image-image" /> </span>

We can solve this using a technique called **click outside**.

What we will do is take the `modalOuter` and listen for a click on it.

When that happens, take a look at the event, like so 👇

    modalOuter.addEventListener('click', function(event) {
      console.log(event);
    })

Now when you click outside the modal on `modalOuter`, you will see the click event logged.

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1273px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:92%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEIElEQVQ4y02L508bdwCG70/ph36qOiNFoiMQaiAkLRusAAlpKFIRCmlLFZdQIIwQaEgKFGGMMZgRE4xtMNz5zoNhzLCLF8ZJW0ZIMQbv2/6dMWpckQ5VevTq1fvqgWzoh6uT76wr3t4zZooVcFbNYEn98NW7krKGkZtNY9cbRkrrpYLHyuZedckP4xMInPCUh105hLvA48yBDhY/9mnePdS8FTWnqXSLX7QqK+7LKh+qqh/PlNWL87/rLRQIq1ql7X2qmodKOTId+50fsGYELBnbq+mQG0taH3/TKH3jOZykszjqR2zf9mKlTU9u98BSxNHYD1d1yMtbZHVdik6Jwbi2QDiyPcsXNlTvm9GPIKfuE4vqA8v0e/vGKyOz+vTbwuya3su3u/l1Etni7rRpTwrbWiW65kFdt9xmtq2Szhy7+pxFdc61mAoFbNmMLZu2ZyXC1dNGC6+q5/Nveq583X2teWJYvzNl3FYat8cXdptlG7dEZnh5id0roXcL4i+LQ7/xIWIh8xROB9MpiZ3yBcdW9h1pRcdU7dBa21PH6MK+0nwshJ8JJObqn/VfdhrU+vnEBv9kMTOxczW8zYd2rFleR+4fts/C2zeXbY4HU88fKd1idPfHSXvXlPUnub2yE67q0lZ3a2+0owpU7zPkuOUpHnPWr7YcaE6Timo+hecuGJcLENN6y7Dx0ZS1W24dXfJOrPnu9qGljbLyNlX5A1Vxo2pMgy2u5U1rU2dQnlqTCmEYbx5Lw+DkX9b5AzP6wrrJjicrrUOGrqdm8ay1sl1eXD9W2jBe1iQrrJUNq9UmU54avqjB0hCMdyYbMB6KJFvW+GNzWMV9RffEUotQWdGmvNEyVfT9UFHtcL5AUiAQZ9wSihSKlZV8NZKC/F/GkOS1lUKNaaVjWN8uge/0zHzVrrjWOFZ2b/T6vdHSBmlxw1CuYEg6O2NayZtFLv4j67SXDLpMHcpbXio6Chy98FIHPpoECRIkCDZBRP+FfUVyiTBxqJ/P1WgzUN1ljfYShCJJGJKEwecNOl4waKapHZrejnH7/3ESe/m6vIifHAaDpjk0eWbuvBpOUiNJkNPR594SbTqFrs1+q6Pf5hA5XQPOzQG7s9/uEDqc/VZ7n8s9aHf2b26JnS7R5tbA1rNBl3tg0yWCDjyBYx9+dBTB8agvQHuPSY8nEPDjJAFYNs6ypzjOHh4G9/eP/GcjxzCnAPzJca+OjyMQw9DBYIAgIjRN0TTBsgxJ0RR1VgCIMgzDcYAkcYZhaZokCJIg/r5YAFgoHo/TNM0wNACAjbIAxAA4YVk2GgUcx73OWDQajcVOAAA4Tvj9gXA4TBAEx3EQy7Jer9fv9+M4HgqFIjgVwZlQKIjjBEXRkQhOUXQ4HKYoJhIJBYMRHCcBALFYDADwF7k7+T6c+45YAAAAAElFTkSuQmCC');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/19322e449a3da27a27b72c5ceb0bdee6/e8d6f/1336.png" title="console showing PointerEvent object logs from modalOuter click event handler" alt="console showing PointerEvent object logs from modalOuter click event handler" class="gatsby-resp-image-image" /> </span>

Next log the `target` and `currentTarget` of the event.

    modalOuter.addEventListener('click', function(event) {
      console.log(event.target);
      console.log(event.currentTarget);
    })

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:535px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:21.866666666666667%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/06-serious-practice-exercises/click-outside-modal/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtklEQVQI1y2OV27DMBTAfP8TGi1aO461x5OeVqxoFElKEPzmwhjTWp+EpJSE4NaYlFKM6d1/PCIGFEIexxFC8N4rpUopy5yzPRtI+N02pTViMNbut50yyjmnlDoAc9fX45pzjrcfeu9L773kDNw6C2AlOhMQOdcnUdYGY7zRwWn0LiPmWmt91OzSVa4xxtJae23sMkEMhqrbWoJjFNdVUAKU+G0z3pfvL3nebYwRFMgf4bUbc/wBZdThCFe2I7sAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/a80bb784d979ac3c85fba3562930869b/b5245/1338.png" title="console showing logged HTML elements from modalOuter event handler" alt="console showing logged HTML elements from modalOuter event handler" class="gatsby-resp-image-image" /> </span>

You might think this would be simple to solve because you can just check if the `modalOuter` and the `currentTarget` are the same thing, then tiy can go ahead and close it.

But in the real world, modals are usually more complex than that. Sometimes they have elements on the outside, sometimes you want to listen for clicks on specific things.

What you can do is use the `closest()` method to see if you are clicking inside of `modalInner` at all.

Make a variable called `isOutside` as assign it to the value of `e.target.closest('.modal-inner')`. Log the value of `isOutside`.

    modalOuter.addEventListener('click', function(event) {
      const isOutside = event.target.closest('.modal-inner');
      console.log(isOutside);
    })

How that works is if you click on the modal or anywhere inside of it, it will find `modalInner`.

However, if you click on something that is outside of the inner or a close button or something, it won't be able to find anything.

So what you can do is convert the `closest()` to a boolean true or false by putting a bang in front of it like so

    const isOutside = !event.target.closest('.modal-inner');

If it finds something it will be false, and if it doesn't finds something it will be true.

That gives us a nice boolean we can use like so, 👇

    modalOuter.addEventListener('click', function(event) {
      const isOutside = event.target.closest('.modal-inner');
      if (isOutside) {
        closeModal();
      }
    })

If you refresh the page now, it should work.

Let's hook up the escape key really quickly.

    window.addEventListener('keydown', event => {
      console.log(event);
      if (event.key === 'Escape') {
        closeModal();
      }
    });

That is it for the lesson, now Wes will just demo some cool stuff.

Add the following style to `modal-inner` 👇

    .modal-inner {
      max-width: 600px;
      min-width: 400px;
      padding: 2rem;
      border-radius: 5px;
      min-height: 200px;
      background: white;
      transform: translateY(-200%);
      transition: transform 2s;
    }

Now the modal is way off the screen, above the browser.

The transition will animate the transform over two seconds.

When the `modalOuter` has a class of `open`, you want to grab `modalInner` and change the transform to be 0 so it goes back to where it should be. 👇

    .modal-outer.open .modal-inner {
      transform: translateY(0);
    }

Now if you refresh the page and try clicking on the buttons, you will see how it animates in now.

However, you may notice that the transition is a bit jerky and not completely smooth.

![browser showing jerky modal transition](https://wesbos.com/36c72b7c637c29fed4717ac775a23a54/bad-transition.gif) 22:17

What is happening there is the image isn't loading immediately.

There are a couple of things we can do to fix that.

In `handleCardButtonClick`, set the width and height inline attribute on the image you set within the `modalInner.innerHTML` like so 👇

    modalInner.innerHTML = `
      <img width="600" height="600" src="${imgSrc.replace(
        '200',
        '600'
      )}" alt="${name}" />
      <p>${desc}</p>
    `;

If you refresh the page, you should notice it's much smoother because the image is loading as it animates in.

What about if you had a slower network, would it still look smooth?

You can test this by going into the dev tools.

Go to the network tab and click the dropdown arrow next to "Online"

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:436px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:43.733333333333334%;position:relative;bottom:0;left:0;background-image:url(https://wesbos.com/javascript/06-serious-practice-exercises/click-outside-modal/'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABt0lEQVQoz1WQT5OaQBTE+fJu1nwZL2uph2STddUcNroRcByBYeYNiCPMHxhQrFpDiuSUX/Whq7vqvap2BmNvON0PZ70+TXaDJ3fw5D5OdsMpGs7Q59l+OEWPE/Qw9h7GXp/PUF9N0cPYdaTgu/UPgn5F/ntxpF13r00RoS0LUEbDJMJJhAWPu/vto7UEe/Tgp+QggPz+uDokVdsD8wLwAr6Ps0xaU1bZSUCSAk8YcJ6kDLg2ZVlZBhySlKcppSCVdvyQ4/joBYBJmpyrIE7jmFBKz+dz0zRCiCAIrLVFITHGdV0zxgCgaRqttUPjKDhg5LskDNpLc0zTPca+7wNA27ZSSkqptVYpvV5vmsslIoSQuL1erbUOALiuJ5XSWh+zTEppylJrrZTKsizPc2OMlFJrLZXK81ybHiGEUspZrVaj0QgAtlv3y9dn4Mlut0MIRRFZLJf9lzjmnIdhmCT9BN++v5yF2GzeX+avzul0whgbY8qeylorpfzrSyHOlLK3t5/L5fJ1sZjP54yxoigqa40xSmun+5/b7YYPQRhFWuv7/V5VVV03dV1fmubfxa7rIkLwIWAAfwCNadd2cGrVZQAAAABJRU5ErkJggg==');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/7aa5cf0e41d9d2a32d6dc6055330378e/8574c/1339.png" title="dev tools showing network panel" alt="dev tools showing network panel" class="gatsby-resp-image-image" /> </span>

<span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:387px"> <span class="gatsby-resp-image-background-image" style="padding-bottom:79.46666666666667%;position:relative;bottom:0;left:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjUlEQVQoz42Qy27TQBSG/VJd8gBseQP2SLwDy0JLN2wQG0CoC8QGVOgNobSJ08RtU3s8vozT2LE7vozHM+NxnYZUsZFSiQ0g+unszv/pPzrK1iHa2LPXv4Hnu9bWd/Ty0L2bF3vW813zxS7c3Lc39u3NfXvzwN48cO5W69/MjT1LiTxYS9q2TckS61QNbB2PoW9d/JSsXcyycBK4MBo7ceDFPrqaoCTw5rVo24YRrDguipOEimsvJF3NGOrOQHfUM0BSHOMwmIwvPcdDdnCJrqIAhz6EZpJmsrrGcaJQSkshrtL8MuZRfj3NZJCWcJKOxkUf4mN9eqSHHX16DLDh81FQeQEWnBGSU0oVVVW7vZ6q9iwIbMs81YZgNOyNvIevyrX1+tGb6slH/vRT+fgDX9uQD56ZO/1xs5jpBri4uFCEEJxzxnhOaRhGaZYJzr0gft9jr7+Td0fpdi/50I0/acVbtdr+gWzkV7JkBSvLUjEh1LTT6XQKIdzZ+Toej+M40bThjaQsCzPs50mU4ank5Od1Ma8lMEEYRhjH5+cjBVqWbgDLdgAAnz9/QQiFUXQyGJKcFlw4Lur2VMt2e+qJaTmyqgbDoa4bGMedo2Pl9va2aZrlcjmbzRhjdV0vFgvGWE4p5zzw/ZPBwEXIACZCnhCCUnpzc7NYLNq2VZbLZfsHQpRFUciqchxXVVUATMMA/X5/9R3WNM1d7F+yKIqiqirf9zudjqYNIYSccyEEK4r/y5wzIQTG2HEcz/Mc1xUr7tUshIhX5HmeZZkQQkp537M551LKMAzPzs5dF5Ur7ttMKZVSTiaTbrcLDCOnVJQlW/Fb+bs8n88JIXEcE0IYY4SQNE2TNM2yrK7r37FfHlBVRlEV8UEAAAAASUVORK5CYII=');background-size:cover;display:block"></span> <img src="https://wesbos.com/static/537573f644918413f493df84464265c2/691c3/1340.png" title="dev tools showing network mode options" alt="dev tools showing network mode options" class="gatsby-resp-image-image" /> </span>

Select Fast 3G.

That option looks good but it is not perfect.

The other option would be to use `document.createElement` to create an image and wait for that image to load.

You would listen for the load event on the image and then run the `modalOuter.classList.add('open')` line of code.

When someone clicks it you could show a spinner for a second as you wait for the image to load and then when it's loaded you can put it in.

Personally Wes doesn't like that option because he doesn't think it is a smooth user experience. The user is just sitting there waiting for the image to load when they could be reading the text.

Find an issue with this post? Think you could clarify, update or add something?

All my posts are available to edit on Github. Any fix, little or small, is appreciated!

[Edit on Github](https://github.com/wesbos/wesbos/tree/master/src/javascript/06-serious-practice-exercises/34-click-outside-modal/34-click-outside-modal.mdx)

[**← Prev**](https://wesbos.com/javascript/06-serious-practice-exercises/etch-a-sketch/)

Etch-a-Sketch

[**Next →**](https://wesbos.com/javascript/06-serious-practice-exercises/scroll-events-and-intersection-observer/)

Scroll Events and Intersection Observer

### <span class="highlight">Syntax Podcast</span>

Hold on — I'm grabbin' the last one.
